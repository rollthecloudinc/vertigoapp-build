(self.webpackChunkspear=self.webpackChunkspear||[]).push([[8995],{97272:(C,v,t)=>{t.d(v,{z:()=>s});var f=t(8189),m=t(63269),p=t(50457);function s(){for(var l=arguments.length,o=new Array(l),c=0;c<l;c++)o[c]=arguments[c];return function h(){return(0,f.J)(1)}()((0,p.D)(o,(0,m.yG)(o)))}},49770:(C,v,t)=>{t.d(v,{P:()=>m});var f=t(69751),h=t(38421);function m(p){return new f.y(function(s){(0,h.Xf)(p()).subscribe(s)})}},60515:(C,v,t)=>{t.d(v,{E:()=>h});var h=new(t(69751).y)(function(s){return s.complete()})},54968:(C,v,t)=>{t.d(v,{R:()=>M});var f=t(97685),h=t(38421),m=t(69751),p=t(95577),s=t(81144),l=t(30576),o=t(83268),c=["addListener","removeListener"],_=["addEventListener","removeEventListener"],D=["on","off"];function M(O,I,b,L){if((0,l.m)(b)&&(L=b,b=void 0),L)return M(O,I,b).pipe((0,o.Z)(L));var j=function g(O){return(0,l.m)(O.addEventListener)&&(0,l.m)(O.removeEventListener)}(O)?_.map(function(U){return function(F){return O[U](I,F,b)}}):function T(O){return(0,l.m)(O.addListener)&&(0,l.m)(O.removeListener)}(O)?c.map(A(O,I)):function P(O){return(0,l.m)(O.on)&&(0,l.m)(O.off)}(O)?D.map(A(O,I)):[],K=(0,f.Z)(j,2),R=K[0],x=K[1];if(!R&&(0,s.z)(O))return(0,p.z)(function(U){return M(U,I,b)})((0,h.Xf)(O));if(!R)throw new TypeError("Invalid event target");return new m.y(function(U){var F=function(){for(var w=arguments.length,S=new Array(w),B=0;B<w;B++)S[B]=arguments[B];return U.next(1<S.length?S:S[0])};return R(F),function(){return x(F)}})}function A(O,I){return function(b){return function(L){return O[b](I,L)}}}},56451:(C,v,t)=>{t.d(v,{T:()=>l});var f=t(8189),h=t(38421),m=t(60515),p=t(63269),s=t(50457);function l(){for(var o=arguments.length,c=new Array(o),_=0;_<o;_++)c[_]=arguments[_];var D=(0,p.yG)(c),M=(0,p._6)(c,1/0),A=c;return A.length?1===A.length?(0,h.Xf)(A[0]):(0,f.J)(M)((0,s.D)(A,D)):m.E}},39646:(C,v,t)=>{t.d(v,{of:()=>m});var f=t(63269),h=t(50457);function m(){for(var p=arguments.length,s=new Array(p),l=0;l<p;l++)s[l]=arguments[l];var o=(0,f.yG)(s);return(0,h.D)(s,o)}},94086:(C,v,t)=>{t.d(v,{g:()=>_});var f=t(34986),h=t(97272),m=t(95698),p=t(38502),s=t(69718),l=t(95577);function o(D,M){return M?function(A){return(0,h.z)(M.pipe((0,m.q)(1),(0,p.l)()),A.pipe(o(D)))}:(0,l.z)(function(A,T){return D(A,T).pipe((0,m.q)(1),(0,s.h)(A))})}var c=t(82805);function _(D){var A=(0,c.H)(D,arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.z);return o(function(){return A})}},39300:(C,v,t)=>{t.d(v,{h:()=>m});var f=t(54482),h=t(25403);function m(p,s){return(0,f.e)(function(l,o){var c=0;l.subscribe((0,h.x)(o,function(_){return p.call(s,_,c++)&&o.next(_)}))})}},38502:(C,v,t)=>{t.d(v,{l:()=>p});var f=t(54482),h=t(25403),m=t(25032);function p(){return(0,f.e)(function(s,l){s.subscribe((0,h.x)(l,m.Z))})}},69718:(C,v,t)=>{t.d(v,{h:()=>h});var f=t(54004);function h(m){return(0,f.U)(function(){return m})}},8189:(C,v,t)=>{t.d(v,{J:()=>m});var f=t(95577),h=t(44671);function m(){return(0,f.z)(h.y,arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0)}},68675:(C,v,t)=>{t.d(v,{O:()=>p});var f=t(97272),h=t(63269),m=t(54482);function p(){for(var s=arguments.length,l=new Array(s),o=0;o<s;o++)l[o]=arguments[o];var c=(0,h.yG)(l);return(0,m.e)(function(_,D){(c?(0,f.z)(l,_,c):(0,f.z)(l,_)).subscribe(D)})}},63900:(C,v,t)=>{t.d(v,{w:()=>p});var f=t(38421),h=t(54482),m=t(25403);function p(s,l){return(0,h.e)(function(o,c){var _=null,D=0,M=!1,A=function(){return M&&!_&&c.complete()};o.subscribe((0,m.x)(c,function(T){_?.unsubscribe();var P=0,g=D++;(0,f.Xf)(s(T,g)).subscribe(_=(0,m.x)(c,function(O){return c.next(l?l(T,O,g,P++):O)},function(){_=null,A()}))},function(){M=!0,A()}))})}},95698:(C,v,t)=>{t.d(v,{q:()=>p});var f=t(60515),h=t(54482),m=t(25403);function p(s){return s<=0?function(){return f.E}:(0,h.e)(function(l,o){var c=0;l.subscribe((0,m.x)(o,function(_){++c<=s&&(o.next(_),s<=c&&o.complete())}))})}},18505:(C,v,t)=>{t.d(v,{b:()=>s});var f=t(30576),h=t(54482),m=t(25403),p=t(44671);function s(l,o,c){var _=(0,f.m)(l)||o||c?{next:l,error:o,complete:c}:l;return _?(0,h.e)(function(D,M){var A;null===(A=_.subscribe)||void 0===A||A.call(_);var T=!0;D.subscribe((0,m.x)(M,function(P){var g;null===(g=_.next)||void 0===g||g.call(_,P),M.next(P)},function(){var P;T=!1,null===(P=_.complete)||void 0===P||P.call(_),M.complete()},function(P){var g;T=!1,null===(g=_.error)||void 0===g||g.call(_,P),M.error(P)},function(){var P,g;T&&(null===(P=_.unsubscribe)||void 0===P||P.call(_)),null===(g=_.finalize)||void 0===g||g.call(_)}))}):p.y}},88995:(C,v,t)=>{t.r(v),t.d(v,{MAT_AUTOCOMPLETE_DEFAULT_OPTIONS:()=>V,MAT_AUTOCOMPLETE_DEFAULT_OPTIONS_FACTORY:()=>z,MAT_AUTOCOMPLETE_SCROLL_STRATEGY:()=>Z,MAT_AUTOCOMPLETE_SCROLL_STRATEGY_FACTORY:()=>X,MAT_AUTOCOMPLETE_SCROLL_STRATEGY_FACTORY_PROVIDER:()=>J,MAT_AUTOCOMPLETE_VALUE_ACCESSOR:()=>Q,MatAutocomplete:()=>ce,MatAutocompleteModule:()=>me,MatAutocompleteOrigin:()=>_e,MatAutocompleteSelectedEvent:()=>H,MatAutocompleteTrigger:()=>q,_MatAutocompleteBase:()=>N,_MatAutocompleteOriginBase:()=>G,_MatAutocompleteTriggerBase:()=>$,getMatAutocompleteMissingPanelError:()=>de});var f=t(74902),h=t(37762),m=t(60136),p=t(18486),s=t(43144),l=t(15671),o=t(56718),c=t(6606),_=t(94055),D=t(93168),M=t(43662),A=t(908),T=t(35333),P=t(23675),g=t(91591),O=t(50727),I=t(77579),b=t(49770),L=t(56451),j=t(39646),K=t(54968),R=t(52069),x=t(18142),U=t(39401),F=t(137),Y=t(68675),w=t(63900),S=t(95698),B=t(39300),ee=t(54004),te=t(18505),ne=t(94086),ie=t(43068),oe=["panel"];function ae(r,d){if(1&r&&(o.\u0275\u0275elementStart(0,"div",0,1),o.\u0275\u0275projection(2),o.\u0275\u0275elementEnd()),2&r){var a=d.id,e=o.\u0275\u0275nextContext();o.\u0275\u0275property("id",e.id)("ngClass",e._classList)("@panelAnimation",e.isOpen?"visible":"hidden"),o.\u0275\u0275attribute("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby(a))}}var re=["*"],le=(0,g.X$)("panelAnimation",[(0,g.SB)("void, hidden",(0,g.oB)({opacity:0,transform:"scaleY(0.8)"})),(0,g.eR)(":enter, hidden => visible",[(0,g.ru)([(0,g.jt)("0.03s linear",(0,g.oB)({opacity:1})),(0,g.jt)("0.12s cubic-bezier(0, 0, 0.2, 1)",(0,g.oB)({transform:"scaleY(1)"}))])]),(0,g.eR)(":leave, visible => hidden",[(0,g.jt)("0.075s linear",(0,g.oB)({opacity:0}))])]),se=0,H=(0,s.Z)(function r(d,a){(0,l.Z)(this,r),this.source=d,this.option=a}),ue=(0,c.mixinDisableRipple)(function(){return(0,s.Z)(function r(){(0,l.Z)(this,r)})}()),V=new o.InjectionToken("mat-autocomplete-default-options",{providedIn:"root",factory:z});function z(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1}}var N=function(){var r=function(d){(0,m.Z)(e,d);var a=(0,p.Z)(e);function e(n,i,u,E){var y;return(0,l.Z)(this,e),(y=a.call(this))._changeDetectorRef=n,y._elementRef=i,y._defaults=u,y._activeOptionChanges=O.w0.EMPTY,y.showPanel=!1,y._isOpen=!1,y.displayWith=null,y.optionSelected=new o.EventEmitter,y.opened=new o.EventEmitter,y.closed=new o.EventEmitter,y.optionActivated=new o.EventEmitter,y._classList={},y.id="mat-autocomplete-".concat(se++),y.inertGroups=E?.SAFARI||!1,y._autoActiveFirstOption=!!u.autoActiveFirstOption,y._autoSelectActiveOption=!!u.autoSelectActiveOption,y}return(0,s.Z)(e,[{key:"isOpen",get:function(){return this._isOpen&&this.showPanel}},{key:"_setColor",value:function(i){this._color=i,this._setThemeClasses(this._classList)}},{key:"autoActiveFirstOption",get:function(){return this._autoActiveFirstOption},set:function(i){this._autoActiveFirstOption=(0,T.coerceBooleanProperty)(i)}},{key:"autoSelectActiveOption",get:function(){return this._autoSelectActiveOption},set:function(i){this._autoSelectActiveOption=(0,T.coerceBooleanProperty)(i)}},{key:"classList",set:function(i){this._classList=i&&i.length?(0,T.coerceStringArray)(i).reduce(function(u,E){return u[E]=!0,u},{}):{},this._setVisibilityClasses(this._classList),this._setThemeClasses(this._classList),this._elementRef.nativeElement.className=""}},{key:"ngAfterContentInit",value:function(){var i=this;this._keyManager=new A.ActiveDescendantKeyManager(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(function(u){i.isOpen&&i.optionActivated.emit({source:i,option:i.options.toArray()[u]||null})}),this._setVisibility()}},{key:"ngOnDestroy",value:function(){var i;null===(i=this._keyManager)||void 0===i||i.destroy(),this._activeOptionChanges.unsubscribe()}},{key:"_setScrollTop",value:function(i){this.panel&&(this.panel.nativeElement.scrollTop=i)}},{key:"_getScrollTop",value:function(){return this.panel?this.panel.nativeElement.scrollTop:0}},{key:"_setVisibility",value:function(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}},{key:"_emitSelectEvent",value:function(i){var u=new H(this,i);this.optionSelected.emit(u)}},{key:"_getPanelAriaLabelledby",value:function(i){return this.ariaLabel?null:this.ariaLabelledby?(i?i+" ":"")+this.ariaLabelledby:i}},{key:"_setVisibilityClasses",value:function(i){i[this._visibleClass]=this.showPanel,i[this._hiddenClass]=!this.showPanel}},{key:"_setThemeClasses",value:function(i){i["mat-primary"]="primary"===this._color,i["mat-warn"]="warn"===this._color,i["mat-accent"]="accent"===this._color}},{key:"_skipPredicate",value:function(i){return i.disabled}}]),e}(ue);return r.\u0275fac=function(a){return new(a||r)(o.\u0275\u0275directiveInject(o.ChangeDetectorRef),o.\u0275\u0275directiveInject(o.ElementRef),o.\u0275\u0275directiveInject(V),o.\u0275\u0275directiveInject(P.Platform))},r.\u0275dir=o.\u0275\u0275defineDirective({type:r,viewQuery:function(a,e){var n;1&a&&(o.\u0275\u0275viewQuery(o.TemplateRef,7),o.\u0275\u0275viewQuery(oe,5)),2&a&&(o.\u0275\u0275queryRefresh(n=o.\u0275\u0275loadQuery())&&(e.template=n.first),o.\u0275\u0275queryRefresh(n=o.\u0275\u0275loadQuery())&&(e.panel=n.first))},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",autoSelectActiveOption:"autoSelectActiveOption",panelWidth:"panelWidth",classList:["class","classList"]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},features:[o.\u0275\u0275InheritDefinitionFeature]}),r}(),ce=function(){var r=function(d){(0,m.Z)(e,d);var a=(0,p.Z)(e);function e(){var n,i;return(0,l.Z)(this,e),(i=a.apply(this,arguments))._visibleClass="mat-mdc-autocomplete-visible",i._hiddenClass="mat-mdc-autocomplete-hidden",i._hideSingleSelectionIndicator=null!==(n=i._defaults.hideSingleSelectionIndicator)&&void 0!==n&&n,i}return(0,s.Z)(e,[{key:"hideSingleSelectionIndicator",get:function(){return this._hideSingleSelectionIndicator},set:function(i){this._hideSingleSelectionIndicator=(0,T.coerceBooleanProperty)(i),this._syncParentProperties()}},{key:"_syncParentProperties",value:function(){if(this.options){var u,i=(0,h.Z)(this.options);try{for(i.s();!(u=i.n()).done;)u.value._changeDetectorRef.markForCheck()}catch(y){i.e(y)}finally{i.f()}}}},{key:"_skipPredicate",value:function(i){return!1}}]),e}(N);return r.\u0275fac=function(){var d;return function(e){return(d||(d=o.\u0275\u0275getInheritedFactory(r)))(e||r)}}(),r.\u0275cmp=o.\u0275\u0275defineComponent({type:r,selectors:[["mat-autocomplete"]],contentQueries:function(a,e,n){var i;1&a&&(o.\u0275\u0275contentQuery(n,c.MAT_OPTGROUP,5),o.\u0275\u0275contentQuery(n,c.MatOption,5)),2&a&&(o.\u0275\u0275queryRefresh(i=o.\u0275\u0275loadQuery())&&(e.optionGroups=i),o.\u0275\u0275queryRefresh(i=o.\u0275\u0275loadQuery())&&(e.options=i))},hostAttrs:["ngSkipHydration","",1,"mat-mdc-autocomplete"],inputs:{disableRipple:"disableRipple",hideSingleSelectionIndicator:"hideSingleSelectionIndicator"},exportAs:["matAutocomplete"],features:[o.\u0275\u0275ProvidersFeature([{provide:c.MAT_OPTION_PARENT_COMPONENT,useExisting:r}]),o.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:re,decls:1,vars:0,consts:[["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id","ngClass"],["panel",""]],template:function(a,e){1&a&&(o.\u0275\u0275projectionDef(),o.\u0275\u0275template(0,ae,3,5,"ng-template"))},dependencies:[_.NgClass],styles:[".mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}.mdc-menu-surface{max-width:calc(100vw - 32px);max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:calc(100vh - 32px);max-height:var(--mdc-menu-max-height, calc(100vh - 32px));z-index:8;border-radius:4px;border-radius:var(--mdc-shape-medium, 4px)}.mdc-menu-surface.mat-mdc-autocomplete-panel{width:100%;max-height:256px;position:static;visibility:hidden;transform-origin:center top;margin:0;padding:8px 0;list-style-type:none}.mdc-menu-surface.mat-mdc-autocomplete-panel:focus{outline:none}.cdk-high-contrast-active .mdc-menu-surface.mat-mdc-autocomplete-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) .mdc-menu-surface.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above .mdc-menu-surface.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}.mdc-menu-surface.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}.mdc-menu-surface.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden}mat-autocomplete{display:none}"],encapsulation:2,data:{animation:[le]},changeDetection:0}),r}(),G=function(){var r=(0,s.Z)(function d(a){(0,l.Z)(this,d),this.elementRef=a});return r.\u0275fac=function(a){return new(a||r)(o.\u0275\u0275directiveInject(o.ElementRef))},r.\u0275dir=o.\u0275\u0275defineDirective({type:r}),r}(),_e=function(){var r=function(d){(0,m.Z)(e,d);var a=(0,p.Z)(e);function e(){return(0,l.Z)(this,e),a.apply(this,arguments)}return(0,s.Z)(e)}(G);return r.\u0275fac=function(){var d;return function(e){return(d||(d=o.\u0275\u0275getInheritedFactory(r)))(e||r)}}(),r.\u0275dir=o.\u0275\u0275defineDirective({type:r,selectors:[["","matAutocompleteOrigin",""]],exportAs:["matAutocompleteOrigin"],features:[o.\u0275\u0275InheritDefinitionFeature]}),r}(),Q={provide:U.JU,useExisting:(0,o.forwardRef)(function(){return q}),multi:!0};function de(){return Error("Attempting to open an undefined instance of `mat-autocomplete`. Make sure that the id passed to the `matAutocomplete` is correct and that you're attempting to open it after the ngAfterContentInit hook.")}var Z=new o.InjectionToken("mat-autocomplete-scroll-strategy");function X(r){return function(){return r.scrollStrategies.reposition()}}var J={provide:Z,deps:[M.Overlay],useFactory:X},$=function(){var r=function(){function d(a,e,n,i,u,E,y,pe,ve,fe,he){var W=this;(0,l.Z)(this,d),this._element=a,this._overlay=e,this._viewContainerRef=n,this._zone=i,this._changeDetectorRef=u,this._dir=y,this._formField=pe,this._document=ve,this._viewportRuler=fe,this._defaults=he,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=O.w0.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new I.x,this._windowBlurHandler=function(){W._canOpenOnNextFocus=W._document.activeElement!==W._element.nativeElement||W.panelOpen},this._onChange=function(){},this._onTouched=function(){},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=(0,b.P)(function(){var k=W.autocomplete?W.autocomplete.options:null;return k?k.changes.pipe((0,Y.O)(k),(0,w.w)(function(){return L.T.apply(void 0,(0,f.Z)(k.map(function(ge){return ge.onSelectionChange})))})):W._zone.onStable.pipe((0,S.q)(1),(0,w.w)(function(){return W.optionSelections}))}),this._scrollStrategy=E}return(0,s.Z)(d,[{key:"autocompleteDisabled",get:function(){return this._autocompleteDisabled},set:function(e){this._autocompleteDisabled=(0,T.coerceBooleanProperty)(e)}},{key:"ngAfterViewInit",value:function(){var e=this,n=this._getWindow();typeof n<"u"&&this._zone.runOutsideAngular(function(){return n.addEventListener("blur",e._windowBlurHandler)})}},{key:"ngOnChanges",value:function(e){e.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}},{key:"ngOnDestroy",value:function(){var e=this._getWindow();typeof e<"u"&&e.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete()}},{key:"panelOpen",get:function(){return this._overlayAttached&&this.autocomplete.showPanel}},{key:"openPanel",value:function(){this._attachOverlay(),this._floatLabel()}},{key:"closePanel",value:function(){var e=this;this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(function(){e.autocomplete.closed.emit()}),this.autocomplete._isOpen=this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._componentDestroyed||this._changeDetectorRef.detectChanges())}},{key:"updatePosition",value:function(){this._overlayAttached&&this._overlayRef.updatePosition()}},{key:"panelClosingActions",get:function(){var e=this;return(0,L.T)(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe((0,B.h)(function(){return e._overlayAttached})),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe((0,B.h)(function(){return e._overlayAttached})):(0,j.of)()).pipe((0,ee.U)(function(n){return n instanceof c.MatOptionSelectionChange?n:null}))}},{key:"activeOption",get:function(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}},{key:"_getOutsideClickStream",value:function(){var e=this;return(0,L.T)((0,K.R)(this._document,"click"),(0,K.R)(this._document,"auxclick"),(0,K.R)(this._document,"touchend")).pipe((0,B.h)(function(n){var i=(0,P._getEventTarget)(n),u=e._formField?e._formField._elementRef.nativeElement:null,E=e.connectedTo?e.connectedTo.elementRef.nativeElement:null;return e._overlayAttached&&i!==e._element.nativeElement&&e._document.activeElement!==e._element.nativeElement&&(!u||!u.contains(i))&&(!E||!E.contains(i))&&!!e._overlayRef&&!e._overlayRef.overlayElement.contains(i)}))}},{key:"writeValue",value:function(e){var n=this;Promise.resolve(null).then(function(){return n._assignOptionValue(e)})}},{key:"registerOnChange",value:function(e){this._onChange=e}},{key:"registerOnTouched",value:function(e){this._onTouched=e}},{key:"setDisabledState",value:function(e){this._element.nativeElement.disabled=e}},{key:"_handleKeydown",value:function(e){var n=e.keyCode,i=(0,R.hasModifierKey)(e);if(n===R.ESCAPE&&!i&&e.preventDefault(),this.activeOption&&n===R.ENTER&&this.panelOpen&&!i)this.activeOption._selectViaInteraction(),this._resetActiveItem(),e.preventDefault();else if(this.autocomplete){var u=this.autocomplete._keyManager.activeItem,E=n===R.UP_ARROW||n===R.DOWN_ARROW;n===R.TAB||E&&!i&&this.panelOpen?this.autocomplete._keyManager.onKeydown(e):E&&this._canOpen()&&this.openPanel(),(E||this.autocomplete._keyManager.activeItem!==u)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._element.nativeElement.value),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}},{key:"_handleInput",value:function(e){var n=e.target,i=n.value;"number"===n.type&&(i=""==i?null:parseFloat(i)),this._previousValue!==i&&(this._previousValue=i,this._pendingAutoselectedOption=null,this._onChange(i),this._canOpen()&&this._document.activeElement===e.target&&this.openPanel())}},{key:"_handleFocus",value:function(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}},{key:"_handleClick",value:function(){this._canOpen()&&!this.panelOpen&&this.openPanel()}},{key:"_floatLabel",value:function(){this._formField&&"auto"===this._formField.floatLabel&&(arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}},{key:"_resetLabel",value:function(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}},{key:"_subscribeToClosingActions",value:function(){var e=this,n=this._zone.onStable.pipe((0,S.q)(1)),i=this.autocomplete.options.changes.pipe((0,te.b)(function(){return e._positionStrategy.reapplyLastPosition()}),(0,ne.g)(0));return(0,L.T)(n,i).pipe((0,w.w)(function(){return e._zone.run(function(){var u=e.panelOpen;e._resetActiveItem(),e.autocomplete._setVisibility(),e._changeDetectorRef.detectChanges(),e.panelOpen&&e._overlayRef.updatePosition(),u!==e.panelOpen&&(e.panelOpen?e.autocomplete.opened.emit():e.autocomplete.closed.emit())}),e.panelClosingActions}),(0,S.q)(1)).subscribe(function(u){return e._setValueAndClose(u)})}},{key:"_destroyPanel",value:function(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}},{key:"_assignOptionValue",value:function(e){var n=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(e):e;this._updateNativeInputValue(n??"")}},{key:"_updateNativeInputValue",value:function(e){this._formField?this._formField._control.value=e:this._element.nativeElement.value=e,this._previousValue=e}},{key:"_setValueAndClose",value:function(e){var n=e?e.source:this._pendingAutoselectedOption;n&&(this._clearPreviousSelectedOption(n),this._assignOptionValue(n.value),this._onChange(n.value),this.autocomplete._emitSelectEvent(n),this._element.nativeElement.focus()),this.closePanel()}},{key:"_clearPreviousSelectedOption",value:function(e){this.autocomplete.options.forEach(function(n){n!==e&&n.selected&&n.deselect()})}},{key:"_attachOverlay",value:function(){var n,u,e=this,i=this._overlayRef;i?(this._positionStrategy.setOrigin(this._getConnectedElement()),i.updateSize({width:this._getPanelWidth()})):(this._portal=new x.TemplatePortal(this.autocomplete.template,this._viewContainerRef,{id:null===(u=this._formField)||void 0===u?void 0:u.getLabelId()}),i=this._overlay.create(this._getOverlayConfig()),this._overlayRef=i,this._handleOverlayEvents(i),this._viewportSubscription=this._viewportRuler.change().subscribe(function(){e.panelOpen&&i&&i.updateSize({width:e._getPanelWidth()})})),i&&!i.hasAttached()&&(i.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());var E=this.panelOpen;this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._setColor(null===(n=this._formField)||void 0===n?void 0:n.color),this.panelOpen&&E!==this.panelOpen&&this.autocomplete.opened.emit()}},{key:"_getOverlayConfig",value:function(){var e,n;return new M.OverlayConfig({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:null!==(e=this._dir)&&void 0!==e?e:void 0,panelClass:null===(n=this._defaults)||void 0===n?void 0:n.overlayPanelClass})}},{key:"_getOverlayPosition",value:function(){var e=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(e),this._positionStrategy=e,e}},{key:"_setStrategyPositions",value:function(e){var E,n=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],i=this._aboveClass,u=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:i},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:i}];E="above"===this.position?u:"below"===this.position?n:[].concat(n,u),e.withPositions(E)}},{key:"_getConnectedElement",value:function(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}},{key:"_getPanelWidth",value:function(){return this.autocomplete.panelWidth||this._getHostWidth()}},{key:"_getHostWidth",value:function(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}},{key:"_resetActiveItem",value:function(){var e=this.autocomplete;if(e.autoActiveFirstOption){for(var n=-1,i=0;i<e.options.length;i++)if(!e.options.get(i).disabled){n=i;break}e._keyManager.setActiveItem(n)}else e._keyManager.setActiveItem(-1)}},{key:"_canOpen",value:function(){var e=this._element.nativeElement;return!e.readOnly&&!e.disabled&&!this._autocompleteDisabled}},{key:"_getWindow",value:function(){var e;return(null===(e=this._document)||void 0===e?void 0:e.defaultView)||window}},{key:"_scrollToOption",value:function(e){var n=this.autocomplete,i=(0,c._countGroupLabelsBeforeOption)(e,n.options,n.optionGroups);if(0===e&&1===i)n._setScrollTop(0);else if(n.panel){var u=n.options.toArray()[e];if(u){var E=u._getHostElement(),y=(0,c._getOptionScrollPosition)(E.offsetTop,E.offsetHeight,n._getScrollTop(),n.panel.nativeElement.offsetHeight);n._setScrollTop(y)}}}},{key:"_handleOverlayEvents",value:function(e){var n=this;e.keydownEvents().subscribe(function(i){var u;(i.keyCode===R.ESCAPE&&!(0,R.hasModifierKey)(i)||i.keyCode===R.UP_ARROW&&(0,R.hasModifierKey)(i,"altKey"))&&(n._pendingAutoselectedOption&&(n._updateNativeInputValue(null!==(u=n._valueBeforeAutoSelection)&&void 0!==u?u:""),n._pendingAutoselectedOption=null),n._closeKeyEventStream.next(),n._resetActiveItem(),i.stopPropagation(),i.preventDefault())}),e.outsidePointerEvents().subscribe()}}]),d}();return r.\u0275fac=function(a){return new(a||r)(o.\u0275\u0275directiveInject(o.ElementRef),o.\u0275\u0275directiveInject(M.Overlay),o.\u0275\u0275directiveInject(o.ViewContainerRef),o.\u0275\u0275directiveInject(o.NgZone),o.\u0275\u0275directiveInject(o.ChangeDetectorRef),o.\u0275\u0275directiveInject(Z),o.\u0275\u0275directiveInject(ie.Directionality,8),o.\u0275\u0275directiveInject(F.MAT_FORM_FIELD,9),o.\u0275\u0275directiveInject(_.DOCUMENT,8),o.\u0275\u0275directiveInject(D.ViewportRuler),o.\u0275\u0275directiveInject(V,8))},r.\u0275dir=o.\u0275\u0275defineDirective({type:r,inputs:{autocomplete:["matAutocomplete","autocomplete"],position:["matAutocompletePosition","position"],connectedTo:["matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled"]},features:[o.\u0275\u0275NgOnChangesFeature]}),r}(),q=function(){var r=function(d){(0,m.Z)(e,d);var a=(0,p.Z)(e);function e(){var n;return(0,l.Z)(this,e),(n=a.apply(this,arguments))._aboveClass="mat-mdc-autocomplete-panel-above",n}return(0,s.Z)(e)}($);return r.\u0275fac=function(){var d;return function(e){return(d||(d=o.\u0275\u0275getInheritedFactory(r)))(e||r)}}(),r.\u0275dir=o.\u0275\u0275defineDirective({type:r,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(a,e){1&a&&o.\u0275\u0275listener("focusin",function(){return e._handleFocus()})("blur",function(){return e._onTouched()})("input",function(i){return e._handleInput(i)})("keydown",function(i){return e._handleKeydown(i)})("click",function(){return e._handleClick()}),2&a&&o.\u0275\u0275attribute("autocomplete",e.autocompleteAttribute)("role",e.autocompleteDisabled?null:"combobox")("aria-autocomplete",e.autocompleteDisabled?null:"list")("aria-activedescendant",e.panelOpen&&e.activeOption?e.activeOption.id:null)("aria-expanded",e.autocompleteDisabled?null:e.panelOpen.toString())("aria-owns",e.autocompleteDisabled||!e.panelOpen||null==e.autocomplete?null:e.autocomplete.id)("aria-haspopup",e.autocompleteDisabled?null:"listbox")},exportAs:["matAutocompleteTrigger"],features:[o.\u0275\u0275ProvidersFeature([Q]),o.\u0275\u0275InheritDefinitionFeature]}),r}(),me=function(){var r=(0,s.Z)(function d(){(0,l.Z)(this,d)});return r.\u0275fac=function(a){return new(a||r)},r.\u0275mod=o.\u0275\u0275defineNgModule({type:r}),r.\u0275inj=o.\u0275\u0275defineInjector({providers:[J],imports:[M.OverlayModule,c.MatOptionModule,c.MatCommonModule,_.CommonModule,D.CdkScrollableModule,c.MatOptionModule,c.MatCommonModule]}),r}()}}]);