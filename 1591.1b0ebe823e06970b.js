(self.webpackChunkspear=self.webpackChunkspear||[]).push([[1591],{91591:(O,_,l)=>{l.d(_,{F4:()=>D,IO:()=>P,LC:()=>y,SB:()=>F,X$:()=>d,ZE:()=>C,ZN:()=>T,_j:()=>c,eR:()=>S,jt:()=>p,k1:()=>b,l3:()=>m,oB:()=>k,pV:()=>E,ru:()=>g,vP:()=>v});var a=l(43144),u=l(15671),c=(0,a.Z)(function e(){(0,u.Z)(this,e)}),y=(0,a.Z)(function e(){(0,u.Z)(this,e)}),m="*";function d(e,n){return{type:7,name:e,definitions:n,options:{}}}function p(e){return{type:4,styles:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,timings:e}}function g(e){return{type:3,steps:e,options:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null}}function v(e){return{type:2,steps:e,options:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null}}function k(e){return{type:6,styles:e,offset:null}}function F(e,n,t){return{type:0,name:e,styles:n,options:t}}function D(e){return{type:5,steps:e}}function S(e,n){return{type:1,expr:e,animation:n,options:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null}}function E(){return{type:9,options:arguments.length>0&&void 0!==arguments[0]?arguments[0]:null}}function P(e,n){return{type:11,selector:e,animation:n,options:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null}}function f(e){Promise.resolve().then(e)}var T=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,u.Z)(this,e),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+t}return(0,a.Z)(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])}},{key:"onStart",value:function(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var t=this;f(function(){return t._onFinish()})}},{key:"_onStart",value:function(){this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])}},{key:"reset",value:function(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}},{key:"setPosition",value:function(t){this._position=this.totalTime?t*this.totalTime:1}},{key:"getPosition",value:function(){return this.totalTime?this._position/this.totalTime:1}},{key:"triggerCallback",value:function(t){var i="start"==t?this._onStartFns:this._onDoneFns;i.forEach(function(s){return s()}),i.length=0}}]),e}(),C=function(){function e(n){var t=this;(0,u.Z)(this,e),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;var i=0,s=0,o=0,h=this.players.length;0==h?f(function(){return t._onFinish()}):this.players.forEach(function(r){r.onDone(function(){++i==h&&t._onFinish()}),r.onDestroy(function(){++s==h&&t._onDestroy()}),r.onStart(function(){++o==h&&t._onStart()})}),this.totalTime=this.players.reduce(function(r,A){return Math.max(r,A.totalTime)},0)}return(0,a.Z)(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach(function(t){return t.init()})}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[])}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(function(t){return t.play()})}},{key:"pause",value:function(){this.players.forEach(function(t){return t.pause()})}},{key:"restart",value:function(){this.players.forEach(function(t){return t.restart()})}},{key:"finish",value:function(){this._onFinish(),this.players.forEach(function(t){return t.finish()})}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(function(t){return t.destroy()}),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach(function(t){return t.reset()}),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(t){var i=t*this.totalTime;this.players.forEach(function(s){var o=s.totalTime?Math.min(1,i/s.totalTime):1;s.setPosition(o)})}},{key:"getPosition",value:function(){var t=this.players.reduce(function(i,s){return null===i||s.totalTime>i.totalTime?s:i},null);return null!=t?t.getPosition():0}},{key:"beforeDestroy",value:function(){this.players.forEach(function(t){t.beforeDestroy&&t.beforeDestroy()})}},{key:"triggerCallback",value:function(t){var i="start"==t?this._onStartFns:this._onDoneFns;i.forEach(function(s){return s()}),i.length=0}}]),e}(),b="!"}}]);