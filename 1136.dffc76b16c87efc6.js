(self.webpackChunkspear=self.webpackChunkspear||[]).push([[1136,7762,2919,7924,3770,2147,9735,9935,8680,7590,9912,3389,9464,77,8992,3119,4666,1504,8358,9363,8905,4802,416,8085,158,5890,3893,1738,5115,6866,6198,1256,691,9144,7054,8441,5158,792,583],{97272:(x,y,l)=>{l.d(y,{z:()=>c});var _=l(8189),d=l(63269),h=l(50457);function c(){for(var D=arguments.length,v=new Array(D),g=0;g<D;g++)v[g]=arguments[g];return function m(){return(0,_.J)(1)}()((0,h.D)(v,(0,d.yG)(v)))}},60515:(x,y,l)=>{l.d(y,{E:()=>m});var m=new(l(69751).y)(function(c){return c.complete()})},50457:(x,y,l)=>{l.d(y,{D:()=>H});var _=l(38421),m=l(85363),d=l(54482);function h(S){var I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(0,d.e)(function(U,B){B.add(S.schedule(function(){return U.subscribe(B)},I))})}var v=l(69751),f=l(2202),T=l(30576),P=l(39672);function k(S,I){if(!S)throw new Error("Iterable cannot be null");return new v.y(function(U){(0,P.f)(U,I,function(){var B=S[Symbol.asyncIterator]();(0,P.f)(U,I,function(){B.next().then(function(Q){Q.done?U.complete():U.next(Q.value)})},0,!0)})})}var O=l(93670),b=l(28239),A=l(81144),L=l(26495),j=l(12206),R=l(44532),M=l(53260);function H(S,I){return I?function N(S,I){if(null!=S){if((0,O.c)(S))return function c(S,I){return(0,_.Xf)(S).pipe(h(I),(0,m.Q)(I))}(S,I);if((0,A.z)(S))return function g(S,I){return new v.y(function(U){var B=0;return I.schedule(function(){B===S.length?U.complete():(U.next(S[B++]),U.closed||this.schedule())})})}(S,I);if((0,b.t)(S))return function D(S,I){return(0,_.Xf)(S).pipe(h(I),(0,m.Q)(I))}(S,I);if((0,j.D)(S))return k(S,I);if((0,L.T)(S))return function w(S,I){return new v.y(function(U){var B;return(0,P.f)(U,I,function(){B=S[f.h](),(0,P.f)(U,I,function(){var Q,J;try{var X=B.next();Q=X.value,J=X.done}catch(ae){return void U.error(ae)}J?U.complete():U.next(Q)},0,!0)}),function(){return(0,T.m)(B?.return)&&B.return()}})}(S,I);if((0,M.L)(S))return function Z(S,I){return k((0,M.Q)(S),I)}(S,I)}throw(0,R.z)(S)}(S,I):(0,_.Xf)(S)}},56451:(x,y,l)=>{l.d(y,{T:()=>D});var _=l(8189),m=l(38421),d=l(60515),h=l(63269),c=l(50457);function D(){for(var v=arguments.length,g=new Array(v),f=0;f<v;f++)g[f]=arguments[f];var T=(0,h.yG)(g),P=(0,h._6)(g,1/0),w=g;return w.length?1===w.length?(0,m.Xf)(w[0]):(0,_.J)(P)((0,c.D)(w,T)):d.E}},25403:(x,y,l)=>{l.d(y,{Q:()=>T,x:()=>f});var _=l(15671),m=l(43144),d=l(97326),h=l(60136),c=l(18486),D=l(73237),v=l(61120);function f(P,w,k,O,b){return new T(P,w,k,O,b)}var T=function(P){(0,h.Z)(k,P);var w=(0,c.Z)(k);function k(O,b,A,L,j,R){var M,Z,N,H;return(0,_.Z)(this,k),(H=w.call(this,O)).onFinalize=j,H.shouldUnsubscribe=R,H._next=b?function(S){try{b(S)}catch(I){O.error(I)}}:(0,D.Z)((M=(0,d.Z)(H),(0,v.Z)(k.prototype)),"_next",M),H._error=L?function(S){try{L(S)}catch(I){O.error(I)}finally{this.unsubscribe()}}:(0,D.Z)((Z=(0,d.Z)(H),(0,v.Z)(k.prototype)),"_error",Z),H._complete=A?function(){try{A()}catch(S){O.error(S)}finally{this.unsubscribe()}}:(0,D.Z)((N=(0,d.Z)(H),(0,v.Z)(k.prototype)),"_complete",N),H}return(0,m.Z)(k,[{key:"unsubscribe",value:function(){var b;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var A=this.closed;(0,D.Z)((0,v.Z)(k.prototype),"unsubscribe",this).call(this),!A&&(null===(b=this.onFinalize)||void 0===b||b.call(this))}}}]),k}(l(70930).Lv)},54004:(x,y,l)=>{l.d(y,{U:()=>d});var _=l(54482),m=l(25403);function d(h,c){return(0,_.e)(function(D,v){var g=0;D.subscribe((0,m.x)(v,function(f){v.next(h.call(c,f,g++))}))})}},8189:(x,y,l)=>{l.d(y,{J:()=>d});var _=l(95577),m=l(44671);function d(){return(0,_.z)(m.y,arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0)}},85363:(x,y,l)=>{l.d(y,{Q:()=>h});var _=l(39672),m=l(54482),d=l(25403);function h(c){var D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(0,m.e)(function(v,g){v.subscribe((0,d.x)(g,function(f){return(0,_.f)(g,c,function(){return g.next(f)},D)},function(){return(0,_.f)(g,c,function(){return g.complete()},D)},function(f){return(0,_.f)(g,c,function(){return g.error(f)},D)}))})}},68675:(x,y,l)=>{l.d(y,{O:()=>h});var _=l(97272),m=l(63269),d=l(54482);function h(){for(var c=arguments.length,D=new Array(c),v=0;v<c;v++)D[v]=arguments[v];var g=(0,m.yG)(D);return(0,d.e)(function(f,T){(g?(0,_.z)(D,f,g):(0,_.z)(D,f)).subscribe(T)})}},63900:(x,y,l)=>{l.d(y,{w:()=>h});var _=l(38421),m=l(54482),d=l(25403);function h(c,D){return(0,m.e)(function(v,g){var f=null,T=0,P=!1,w=function(){return P&&!f&&g.complete()};v.subscribe((0,d.x)(g,function(k){f?.unsubscribe();var O=0,b=T++;(0,_.Xf)(c(k,b)).subscribe(f=(0,d.x)(g,function(A){return g.next(D?D(k,A,b,O++):A)},function(){f=null,w()}))},function(){P=!0,w()}))})}},95698:(x,y,l)=>{l.d(y,{q:()=>h});var _=l(60515),m=l(54482),d=l(25403);function h(c){return c<=0?function(){return _.E}:(0,m.e)(function(D,v){var g=0;D.subscribe((0,d.x)(v,function(f){++g<=c&&(v.next(f),c<=g&&v.complete())}))})}},82722:(x,y,l)=>{l.d(y,{R:()=>c});var _=l(54482),m=l(25403),d=l(38421),h=l(25032);function c(D){return(0,_.e)(function(v,g){(0,d.Xf)(D).subscribe((0,m.x)(g,function(){return g.complete()},h.Z)),!g.closed&&v.subscribe(g)})}},18505:(x,y,l)=>{l.d(y,{b:()=>c});var _=l(30576),m=l(54482),d=l(25403),h=l(44671);function c(D,v,g){var f=(0,_.m)(D)||v||g?{next:D,error:v,complete:g}:D;return f?(0,m.e)(function(T,P){var w;null===(w=f.subscribe)||void 0===w||w.call(f);var k=!0;T.subscribe((0,d.x)(P,function(O){var b;null===(b=f.next)||void 0===b||b.call(f,O),P.next(O)},function(){var O;k=!1,null===(O=f.complete)||void 0===O||O.call(f),P.complete()},function(O){var b;k=!1,null===(b=f.error)||void 0===b||b.call(f,O),P.error(O)},function(){var O,b;k&&(null===(O=f.unsubscribe)||void 0===O||O.call(f)),null===(b=f.finalize)||void 0===b||b.call(f)}))}):h.y}},66406:(x,y,l)=>{l.d(y,{Z:()=>k});var _=l(15671),m=l(43144),d=l(73237),h=l(61120),c=l(60136),D=l(18486),v=l(84408),g=l(50727),f={schedule:function(A){var L=requestAnimationFrame,j=cancelAnimationFrame,R=f.delegate;R&&(L=R.requestAnimationFrame,j=R.cancelAnimationFrame);var M=L(function(Z){j=void 0,A(Z)});return new g.w0(function(){return j?.(M)})},requestAnimationFrame:function(b){function A(){return b.apply(this,arguments)}return A.toString=function(){return b.toString()},A}(function(){var b=f.delegate;return(b?.requestAnimationFrame||requestAnimationFrame).apply(void 0,arguments)}),cancelAnimationFrame:function(b){function A(){return b.apply(this,arguments)}return A.toString=function(){return b.toString()},A}(function(){var b=f.delegate;return(b?.cancelAnimationFrame||cancelAnimationFrame).apply(void 0,arguments)}),delegate:void 0},T=function(b){(0,c.Z)(L,b);var A=(0,D.Z)(L);function L(j,R){var M;return(0,_.Z)(this,L),(M=A.call(this,j,R)).scheduler=j,M.work=R,M}return(0,m.Z)(L,[{key:"requestAsyncId",value:function(R,M){var Z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==Z&&Z>0?(0,d.Z)((0,h.Z)(L.prototype),"requestAsyncId",this).call(this,R,M,Z):(R.actions.push(this),R._scheduled||(R._scheduled=f.requestAnimationFrame(function(){return R.flush(void 0)})))}},{key:"recycleAsyncId",value:function(R,M){var N,Z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!=Z?Z>0:this.delay>0)return(0,d.Z)((0,h.Z)(L.prototype),"recycleAsyncId",this).call(this,R,M,Z);var H=R.actions;null!=M&&(null===(N=H[H.length-1])||void 0===N?void 0:N.id)!==M&&(f.cancelAnimationFrame(M),R._scheduled=void 0)}}]),L}(v.o),k=new(function(b){(0,c.Z)(L,b);var A=(0,D.Z)(L);function L(){return(0,_.Z)(this,L),A.apply(this,arguments)}return(0,m.Z)(L,[{key:"flush",value:function(R){this._active=!0;var M=this._scheduled;this._scheduled=void 0;var N,Z=this.actions;R=R||Z.shift();do{if(N=R.execute(R.state,R.delay))break}while((R=Z[0])&&R.id===M&&Z.shift());if(this._active=!1,N){for(;(R=Z[0])&&R.id===M&&Z.shift();)R.unsubscribe();throw N}}}]),L}(l(97565).v))(T)},63269:(x,y,l)=>{l.d(y,{_6:()=>D,jO:()=>h,yG:()=>c});var _=l(30576),m=l(93532);function d(v){return v[v.length-1]}function h(v){return(0,_.m)(d(v))?v.pop():void 0}function c(v){return(0,m.K)(d(v))?v.pop():void 0}function D(v,g){return"number"==typeof d(v)?v.pop():g}},39672:(x,y,l)=>{function _(m,d,h){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,D=arguments.length>4&&void 0!==arguments[4]&&arguments[4],v=d.schedule(function(){h(),D?m.add(this.schedule(null,c)):this.unsubscribe()},c);if(m.add(v),!D)return v}l.d(y,{f:()=>_})},93532:(x,y,l)=>{l.d(y,{K:()=>m});var _=l(30576);function m(d){return d&&(0,_.m)(d.schedule)}},54482:(x,y,l)=>{l.d(y,{A:()=>m,e:()=>d});var _=l(30576);function m(h){return(0,_.m)(h?.lift)}function d(h){return function(c){if(m(c))return c.lift(function(D){try{return h(D,this)}catch(v){this.error(v)}});throw new TypeError("Unable to lift unknown Observable type")}}},55437:(x,y,l)=>{l.r(y),l.d(y,{CDK_DRAG_CONFIG:()=>ve,CDK_DRAG_HANDLE:()=>oe,CDK_DRAG_PARENT:()=>re,CDK_DRAG_PLACEHOLDER:()=>he,CDK_DRAG_PREVIEW:()=>fe,CDK_DROP_LIST:()=>_e,CDK_DROP_LIST_GROUP:()=>se,CdkDrag:()=>Be,CdkDragHandle:()=>Me,CdkDragPlaceholder:()=>Ze,CdkDragPreview:()=>Fe,CdkDropList:()=>je,CdkDropListGroup:()=>Ue,DragDrop:()=>ne,DragDropModule:()=>$e,DragDropRegistry:()=>Le,DragRef:()=>Se,DropListRef:()=>ke,copyArrayItem:()=>Ge,moveItemInArray:()=>Ce,transferArrayItem:()=>Ne});var _=l(97685),m=l(74902),d=l(15671),h=l(43144),c=l(56718),D=l(94055),v=l(93168),g=l(23675),f=l(35333),T=l(908),P=l(77579),w=l(50727),k=l(34986),O=l(82805),A=l(66406),L=l(69751),j=l(56451),R=l(82722),M=l(54004),Z=l(95698),N=l(68675),H=l(18505),S=l(63900),I=l(43068);function U(a,r,t){for(var e in r)if(r.hasOwnProperty(e)){var i=r[e];i?a.setProperty(e,i,null!=t&&t.has(e)?"important":""):a.removeProperty(e)}return a}function B(a,r){var t=r?"":"none";U(a.style,{"touch-action":r?"":"none","-webkit-user-drag":r?"":"none","-webkit-tap-highlight-color":r?"":"transparent","user-select":t,"-ms-user-select":t,"-webkit-user-select":t,"-moz-user-select":t})}function Q(a,r,t){U(a.style,{position:r?"":"fixed",top:r?"":"0",opacity:r?"":"0",left:r?"":"-999em"},t)}function J(a,r){return r&&"none"!=r?a+" "+r:a}function X(a){var r=a.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(a)*r}function le(a,r){return a.getPropertyValue(r).split(",").map(function(e){return e.trim()})}function ce(a){var r=a.getBoundingClientRect();return{top:r.top,right:r.right,bottom:r.bottom,left:r.left,width:r.width,height:r.height,x:r.x,y:r.y}}function ue(a,r,t){return t>=a.top&&t<=a.bottom&&r>=a.left&&r<=a.right}function Y(a,r,t){a.top+=r,a.bottom=a.top+a.height,a.left+=t,a.right=a.left+a.width}function pe(a,r,t,e){var E=a.width*r,C=a.height*r;return e>a.top-C&&e<a.bottom+C&&t>a.left-E&&t<a.right+E}var me=function(){function a(r){(0,d.Z)(this,a),this._document=r,this.positions=new Map}return(0,h.Z)(a,[{key:"clear",value:function(){this.positions.clear()}},{key:"cache",value:function(t){var e=this;this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),t.forEach(function(i){e.positions.set(i,{scrollPosition:{top:i.scrollTop,left:i.scrollLeft},clientRect:ce(i)})})}},{key:"handleScroll",value:function(t){var e=(0,g._getEventTarget)(t),i=this.positions.get(e);if(!i)return null;var s,o,n=i.scrollPosition;if(e===this._document){var u=this.getViewportScrollPosition();s=u.top,o=u.left}else s=e.scrollTop,o=e.scrollLeft;var p=n.top-s,E=n.left-o;return this.positions.forEach(function(C,F){C.clientRect&&e!==F&&e.contains(F)&&Y(C.clientRect,p,E)}),n.top=s,n.left=o,{top:p,left:E}}},{key:"getViewportScrollPosition",value:function(){return{top:window.scrollY,left:window.scrollX}}}]),a}();function De(a){var r=a.cloneNode(!0),t=r.querySelectorAll("[id]"),e=a.nodeName.toLowerCase();r.removeAttribute("id");for(var i=0;i<t.length;i++)t[i].removeAttribute("id");return"canvas"===e?Ee(a,r):("input"===e||"select"===e||"textarea"===e)&&Pe(a,r),ye("canvas",a,r,Ee),ye("input, textarea, select",a,r,Pe),r}function ye(a,r,t,e){var i=r.querySelectorAll(a);if(i.length)for(var n=t.querySelectorAll(a),s=0;s<i.length;s++)e(i[s],n[s])}var Ke=0;function Pe(a,r){"file"!==r.type&&(r.value=a.value),"radio"===r.type&&r.name&&(r.name="mat-clone-".concat(r.name,"-").concat(Ke++))}function Ee(a,r){var t=r.getContext("2d");if(t)try{t.drawImage(a,0,0)}catch{}}var be=(0,g.normalizePassiveListenerOptions)({passive:!0}),ee=(0,g.normalizePassiveListenerOptions)({passive:!1}),de=new Set(["position"]),Se=function(){function a(r,t,e,i,n,s){var o=this;(0,d.Z)(this,a),this._config=t,this._document=e,this._ngZone=i,this._viewportRuler=n,this._dragDropRegistry=s,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new P.x,this._pointerMoveSubscription=w.w0.EMPTY,this._pointerUpSubscription=w.w0.EMPTY,this._scrollSubscription=w.w0.EMPTY,this._resizeSubscription=w.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new P.x,this.started=new P.x,this.released=new P.x,this.ended=new P.x,this.entered=new P.x,this.exited=new P.x,this.dropped=new P.x,this.moved=this._moveEvents,this._pointerDown=function(u){if(o.beforeStarted.next(),o._handles.length){var p=o._getTargetHandle(u);p&&!o._disabledHandles.has(p)&&!o.disabled&&o._initializeDragSequence(p,u)}else o.disabled||o._initializeDragSequence(o._rootElement,u)},this._pointerMove=function(u){var p=o._getPointerPositionOnPage(u);if(o._hasStartedDragging){u.preventDefault();var W=o._getConstrainedPointerPosition(p);if(o._hasMoved=!0,o._lastKnownPointerPosition=p,o._updatePointerDirectionDelta(W),o._dropContainer)o._updateActiveDropContainer(W,p);else{var V=o.constrainPosition?o._initialClientRect:o._pickupPositionOnPage,z=o._activeTransform;z.x=W.x-V.x+o._passiveTransform.x,z.y=W.y-V.y+o._passiveTransform.y,o._applyRootElementTransform(z.x,z.y)}o._moveEvents.observers.length&&o._ngZone.run(function(){o._moveEvents.next({source:o,pointerPosition:W,event:u,distance:o._getDragDistance(W),delta:o._pointerDirectionDelta})})}else if(Math.abs(p.x-o._pickupPositionOnPage.x)+Math.abs(p.y-o._pickupPositionOnPage.y)>=o._config.dragStartThreshold){var K=Date.now()>=o._dragStartTime+o._getDragStartDelay(u),G=o._dropContainer;if(!K)return void o._endDragSequence(u);(!G||!G.isDragging()&&!G.isReceiving())&&(u.preventDefault(),o._hasStartedDragging=!0,o._ngZone.run(function(){return o._startDragSequence(u)}))}},this._pointerUp=function(u){o._endDragSequence(u)},this._nativeDragStart=function(u){if(o._handles.length){var p=o._getTargetHandle(u);p&&!o._disabledHandles.has(p)&&!o.disabled&&u.preventDefault()}else o.disabled||u.preventDefault()},this.withRootElement(r).withParent(t.parentDragRef||null),this._parentPositions=new me(e),s.registerDragItem(this)}return(0,h.Z)(a,[{key:"disabled",get:function(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)},set:function(t){var e=(0,f.coerceBooleanProperty)(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(function(i){return B(i,e)}))}},{key:"getPlaceholderElement",value:function(){return this._placeholder}},{key:"getRootElement",value:function(){return this._rootElement}},{key:"getVisibleElement",value:function(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}},{key:"withHandles",value:function(t){var e=this;this._handles=t.map(function(n){return(0,f.coerceElement)(n)}),this._handles.forEach(function(n){return B(n,e.disabled)}),this._toggleNativeDragInteractions();var i=new Set;return this._disabledHandles.forEach(function(n){e._handles.indexOf(n)>-1&&i.add(n)}),this._disabledHandles=i,this}},{key:"withPreviewTemplate",value:function(t){return this._previewTemplate=t,this}},{key:"withPlaceholderTemplate",value:function(t){return this._placeholderTemplate=t,this}},{key:"withRootElement",value:function(t){var e=this,i=(0,f.coerceElement)(t);return i!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(function(){i.addEventListener("mousedown",e._pointerDown,ee),i.addEventListener("touchstart",e._pointerDown,be),i.addEventListener("dragstart",e._nativeDragStart,ee)}),this._initialTransform=void 0,this._rootElement=i),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}},{key:"withBoundaryElement",value:function(t){var e=this;return this._boundaryElement=t?(0,f.coerceElement)(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(function(){return e._containInsideBoundaryOnResize()})),this}},{key:"withParent",value:function(t){return this._parentDragRef=t,this}},{key:"dispose",value:function(){var t,e;this._removeRootElementListeners(this._rootElement),this.isDragging()&&(null===(e=this._rootElement)||void 0===e||e.remove()),null===(t=this._anchor)||void 0===t||t.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}},{key:"isDragging",value:function(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}},{key:"reset",value:function(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}},{key:"disableHandle",value:function(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),B(t,!0))}},{key:"enableHandle",value:function(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),B(t,this.disabled))}},{key:"withDirection",value:function(t){return this._direction=t,this}},{key:"_withDropContainer",value:function(t){this._dropContainer=t}},{key:"getFreeDragPosition",value:function(){var t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}},{key:"setFreeDragPosition",value:function(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}},{key:"withPreviewContainer",value:function(t){return this._previewContainer=t,this}},{key:"_sortFromLastPointerPosition",value:function(){var t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}},{key:"_removeSubscriptions",value:function(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}},{key:"_destroyPreview",value:function(){var t,e;null===(t=this._preview)||void 0===t||t.remove(),null===(e=this._previewRef)||void 0===e||e.destroy(),this._preview=this._previewRef=null}},{key:"_destroyPlaceholder",value:function(){var t,e;null===(t=this._placeholder)||void 0===t||t.remove(),null===(e=this._placeholderRef)||void 0===e||e.destroy(),this._placeholder=this._placeholderRef=null}},{key:"_endDragSequence",value:function(t){var e=this;if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:t}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(function(){e._cleanupDragArtifacts(t),e._cleanupCachedDimensions(),e._dragDropRegistry.stopDragging(e)});else{this._passiveTransform.x=this._activeTransform.x;var i=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(function(){e.ended.next({source:e,distance:e._getDragDistance(i),dropPoint:i,event:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}},{key:"_startDragSequence",value:function(t){$(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();var e=this._dropContainer;if(e){var i=this._rootElement,n=i.parentNode,s=this._placeholder=this._createPlaceholderElement(),o=this._anchor=this._anchor||this._document.createComment(""),u=this._getShadowRoot();n.insertBefore(o,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),Q(i,!1,de),this._document.body.appendChild(n.replaceChild(s,i)),this._getPreviewInsertionPoint(n,u).appendChild(this._preview),this.started.next({source:this,event:t}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this,event:t}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}},{key:"_initializeDragSequence",value:function(t,e){var i=this;this._parentDragRef&&e.stopPropagation();var n=this.isDragging(),s=$(e),o=!s&&0!==e.button,u=this._rootElement,p=(0,g._getEventTarget)(e),E=!s&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),C=s?(0,T.isFakeTouchstartFromScreenReader)(e):(0,T.isFakeMousedownFromScreenReader)(e);if(p&&p.draggable&&"mousedown"===e.type&&e.preventDefault(),!(n||o||E||C)){if(this._handles.length){var F=u.style;this._rootElementTapHighlight=F.webkitTapHighlightColor||"",F.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(function(W){return i._updateOnScroll(W)}),this._boundaryElement&&(this._boundaryRect=ce(this._boundaryElement));var K=this._previewTemplate;this._pickupPositionInElement=K&&K.template&&!K.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,t,e);var G=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:G.x,y:G.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}}},{key:"_cleanupDragArtifacts",value:function(t){var e=this;Q(this._rootElement,!0,de),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(function(){var i=e._dropContainer,n=i.getItemIndex(e),s=e._getPointerPositionOnPage(t),o=e._getDragDistance(s),u=i._isOverContainer(s.x,s.y);e.ended.next({source:e,distance:o,dropPoint:s,event:t}),e.dropped.next({item:e,currentIndex:n,previousIndex:e._initialIndex,container:i,previousContainer:e._initialContainer,isPointerOverContainer:u,distance:o,dropPoint:s,event:t}),i.drop(e,n,e._initialIndex,e._initialContainer,u,o,s,t),e._dropContainer=e._initialContainer})}},{key:"_updateActiveDropContainer",value:function(t,e){var i=this,n=t.x,s=t.y,o=e.x,u=e.y,p=this._initialContainer._getSiblingContainerFromPosition(this,n,s);!p&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(n,s)&&(p=this._initialContainer),p&&p!==this._dropContainer&&this._ngZone.run(function(){i.exited.next({item:i,container:i._dropContainer}),i._dropContainer.exit(i),i._dropContainer=p,i._dropContainer.enter(i,n,s,p===i._initialContainer&&p.sortingDisabled?i._initialIndex:void 0),i.entered.next({item:i,container:p,currentIndex:p.getItemIndex(i)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(o,u),this._dropContainer._sortItem(this,n,s,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(n,s):this._applyPreviewTransform(n-this._pickupPositionInElement.x,s-this._pickupPositionInElement.y))}},{key:"_createPreviewElement",value:function(){var n,t=this._previewTemplate,e=this.previewClass,i=t?t.template:null;if(i&&t){var s=t.matchSize?this._initialClientRect:null,o=t.viewContainer.createEmbeddedView(i,t.context);o.detectChanges(),n=Re(o,this._document),this._previewRef=o,t.matchSize?Ie(n,s):n.style.transform=te(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else Ie(n=De(this._rootElement),this._initialClientRect),this._initialTransform&&(n.style.transform=this._initialTransform);return U(n.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":"".concat(this._config.zIndex||1e3)},de),B(n,!1),n.classList.add("cdk-drag-preview"),n.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(function(u){return n.classList.add(u)}):n.classList.add(e)),n}},{key:"_animatePreviewToPlaceholder",value:function(){var t=this;if(!this._hasMoved)return Promise.resolve();var e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);var i=function ae(a){var r=getComputedStyle(a),t=le(r,"transition-property"),e=t.find(function(o){return"transform"===o||"all"===o});if(!e)return 0;var i=t.indexOf(e),n=le(r,"transition-duration"),s=le(r,"transition-delay");return X(n[i])+X(s[i])}(this._preview);return 0===i?Promise.resolve():this._ngZone.runOutsideAngular(function(){return new Promise(function(n){var s=function u(p){var E;(!p||(0,g._getEventTarget)(p)===t._preview&&"transform"===p.propertyName)&&(null===(E=t._preview)||void 0===E||E.removeEventListener("transitionend",u),n(),clearTimeout(o))},o=setTimeout(s,1.5*i);t._preview.addEventListener("transitionend",s)})})}},{key:"_createPlaceholderElement",value:function(){var i,t=this._placeholderTemplate,e=t?t.template:null;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),i=Re(this._placeholderRef,this._document)):i=De(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}},{key:"_getPointerPositionInElement",value:function(t,e,i){var n=e===this._rootElement?null:e,s=n?n.getBoundingClientRect():t,o=$(i)?i.targetTouches[0]:i,u=this._getViewportScrollPosition();return{x:s.left-t.left+(o.pageX-s.left-u.left),y:s.top-t.top+(o.pageY-s.top-u.top)}}},{key:"_getPointerPositionOnPage",value:function(t){var e=this._getViewportScrollPosition(),i=$(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,n=i.pageX-e.left,s=i.pageY-e.top;if(this._ownerSVGElement){var o=this._ownerSVGElement.getScreenCTM();if(o){var u=this._ownerSVGElement.createSVGPoint();return u.x=n,u.y=s,u.matrixTransform(o.inverse())}}return{x:n,y:s}}},{key:"_getConstrainedPointerPosition",value:function(t){var e=this._dropContainer?this._dropContainer.lockAxis:null,i=this.constrainPosition?this.constrainPosition(t,this,this._initialClientRect,this._pickupPositionInElement):t,n=i.x,s=i.y;if("x"===this.lockAxis||"x"===e?s=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(n=this._pickupPositionOnPage.x),this._boundaryRect){var o=this._pickupPositionInElement,u=o.x,p=o.y,E=this._boundaryRect,C=this._getPreviewRect(),G=E.top+p,W=E.bottom-(C.height-p);n=we(n,E.left+u,E.right-(C.width-u)),s=we(s,G,W)}return{x:n,y:s}}},{key:"_updatePointerDirectionDelta",value:function(t){var e=t.x,i=t.y,n=this._pointerDirectionDelta,s=this._pointerPositionAtLastDirectionChange,o=Math.abs(e-s.x),u=Math.abs(i-s.y);return o>this._config.pointerDirectionChangeThreshold&&(n.x=e>s.x?1:-1,s.x=e),u>this._config.pointerDirectionChangeThreshold&&(n.y=i>s.y?1:-1,s.y=i),n}},{key:"_toggleNativeDragInteractions",value:function(){if(this._rootElement&&this._handles){var t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,B(this._rootElement,t))}}},{key:"_removeRootElementListeners",value:function(t){t.removeEventListener("mousedown",this._pointerDown,ee),t.removeEventListener("touchstart",this._pointerDown,be),t.removeEventListener("dragstart",this._nativeDragStart,ee)}},{key:"_applyRootElementTransform",value:function(t,e){var i=te(t,e),n=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=n.transform&&"none"!=n.transform?n.transform:""),n.transform=J(i,this._initialTransform)}},{key:"_applyPreviewTransform",value:function(t,e){var i,n=null!==(i=this._previewTemplate)&&void 0!==i&&i.template?void 0:this._initialTransform,s=te(t,e);this._preview.style.transform=J(s,n)}},{key:"_getDragDistance",value:function(t){var e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}},{key:"_cleanupCachedDimensions",value:function(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}},{key:"_containInsideBoundaryOnResize",value:function(){var t=this._passiveTransform,e=t.x,i=t.y;if(!(0===e&&0===i||this.isDragging())&&this._boundaryElement){var n=this._rootElement.getBoundingClientRect(),s=this._boundaryElement.getBoundingClientRect();if(!(0===s.width&&0===s.height||0===n.width&&0===n.height)){var o=s.left-n.left,u=n.right-s.right,p=s.top-n.top,E=n.bottom-s.bottom;s.width>n.width?(o>0&&(e+=o),u>0&&(e-=u)):e=0,s.height>n.height?(p>0&&(i+=p),E>0&&(i-=E)):i=0,(e!==this._passiveTransform.x||i!==this._passiveTransform.y)&&this.setFreeDragPosition({y:i,x:e})}}}},{key:"_getDragStartDelay",value:function(t){var e=this.dragStartDelay;return"number"==typeof e?e:$(t)?e.touch:e?e.mouse:0}},{key:"_updateOnScroll",value:function(t){var e=this._parentPositions.handleScroll(t);if(e){var i=(0,g._getEventTarget)(t);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&Y(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}},{key:"_getViewportScrollPosition",value:function(){var t;return(null===(t=this._parentPositions.positions.get(this._document))||void 0===t?void 0:t.scrollPosition)||this._parentPositions.getViewportScrollPosition()}},{key:"_getShadowRoot",value:function(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,g._getShadowRoot)(this._rootElement)),this._cachedShadowRoot}},{key:"_getPreviewInsertionPoint",value:function(t,e){var i=this._previewContainer||"global";if("parent"===i)return t;if("global"===i){var n=this._document;return e||n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement||n.body}return(0,f.coerceElement)(i)}},{key:"_getPreviewRect",value:function(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}},{key:"_getTargetHandle",value:function(t){return this._handles.find(function(e){return t.target&&(t.target===e||e.contains(t.target))})}}]),a}();function te(a,r){return"translate3d(".concat(Math.round(a),"px, ").concat(Math.round(r),"px, 0)")}function we(a,r,t){return Math.max(r,Math.min(t,a))}function $(a){return"t"===a.type[0]}function Re(a,r){var t=a.rootNodes;if(1===t.length&&t[0].nodeType===r.ELEMENT_NODE)return t[0];var e=r.createElement("div");return t.forEach(function(i){return e.appendChild(i)}),e}function Ie(a,r){a.style.width="".concat(r.width,"px"),a.style.height="".concat(r.height,"px"),a.style.transform=te(r.left,r.top)}function Ce(a,r,t){var e=q(r,a.length-1),i=q(t,a.length-1);if(e!==i){for(var n=a[e],s=i<e?-1:1,o=e;o!==i;o+=s)a[o]=a[o+s];a[i]=n}}function Ne(a,r,t,e){var i=q(t,a.length-1),n=q(e,r.length);a.length&&r.splice(n,0,a.splice(i,1)[0])}function Ge(a,r,t,e){var i=q(e,r.length);a.length&&r.splice(i,0,a[t])}function q(a,r){return Math.max(0,Math.min(r,a))}var Ve=function(){function a(r,t){(0,d.Z)(this,a),this._element=r,this._dragDropRegistry=t,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}return(0,h.Z)(a,[{key:"start",value:function(t){this.withItems(t)}},{key:"sort",value:function(t,e,i,n){var s=this._itemPositions,o=this._getItemIndexFromPointerPosition(t,e,i,n);if(-1===o&&s.length>0)return null;var u="horizontal"===this.orientation,p=s.findIndex(function(z){return z.drag===t}),E=s[o],F=E.clientRect,K=p>o?1:-1,G=this._getItemOffsetPx(s[p].clientRect,F,K),W=this._getSiblingOffsetPx(p,s,K),V=s.slice();return Ce(s,p,o),s.forEach(function(z,qe){if(V[qe]!==z){var ze=z.drag===t,ge=ze?G:W,He=ze?t.getPlaceholderElement():z.drag.getRootElement();z.offset+=ge,u?(He.style.transform=J("translate3d(".concat(Math.round(z.offset),"px, 0, 0)"),z.initialTransform),Y(z.clientRect,0,ge)):(He.style.transform=J("translate3d(0, ".concat(Math.round(z.offset),"px, 0)"),z.initialTransform),Y(z.clientRect,ge,0))}}),this._previousSwap.overlaps=ue(F,e,i),this._previousSwap.drag=E.drag,this._previousSwap.delta=u?n.x:n.y,{previousIndex:p,currentIndex:o}}},{key:"enter",value:function(t,e,i,n){var s=null==n||n<0?this._getItemIndexFromPointerPosition(t,e,i):n,o=this._activeDraggables,u=o.indexOf(t),p=t.getPlaceholderElement(),E=o[s];if(E===t&&(E=o[s+1]),!E&&(null==s||-1===s||s<o.length-1)&&this._shouldEnterAsFirstChild(e,i)&&(E=o[0]),u>-1&&o.splice(u,1),E&&!this._dragDropRegistry.isDragging(E)){var C=E.getRootElement();C.parentElement.insertBefore(p,C),o.splice(s,0,t)}else(0,f.coerceElement)(this._element).appendChild(p),o.push(t);p.style.transform="",this._cacheItemPositions()}},{key:"withItems",value:function(t){this._activeDraggables=t.slice(),this._cacheItemPositions()}},{key:"withSortPredicate",value:function(t){this._sortPredicate=t}},{key:"reset",value:function(){var t=this;this._activeDraggables.forEach(function(e){var i=e.getRootElement();if(i){var n,s=null===(n=t._itemPositions.find(function(o){return o.drag===e}))||void 0===n?void 0:n.initialTransform;i.style.transform=s||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}},{key:"getActiveItemsSnapshot",value:function(){return this._activeDraggables}},{key:"getItemIndex",value:function(t){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(function(i){return i.drag===t})}},{key:"updateOnScroll",value:function(t,e){var i=this;this._itemPositions.forEach(function(n){Y(n.clientRect,t,e)}),this._itemPositions.forEach(function(n){var s=n.drag;i._dragDropRegistry.isDragging(s)&&s._sortFromLastPointerPosition()})}},{key:"_cacheItemPositions",value:function(){var t="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(function(e){var i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:ce(i)}}).sort(function(e,i){return t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top})}},{key:"_getItemOffsetPx",value:function(t,e,i){var n="horizontal"===this.orientation,s=n?e.left-t.left:e.top-t.top;return-1===i&&(s+=n?e.width-t.width:e.height-t.height),s}},{key:"_getSiblingOffsetPx",value:function(t,e,i){var n="horizontal"===this.orientation,s=e[t].clientRect,o=e[t+-1*i],u=s[n?"width":"height"]*i;if(o){var p=n?"left":"top",E=n?"right":"bottom";-1===i?u-=o.clientRect[p]-s[E]:u+=s[p]-o.clientRect[E]}return u}},{key:"_shouldEnterAsFirstChild",value:function(t,e){if(!this._activeDraggables.length)return!1;var i=this._itemPositions,n="horizontal"===this.orientation;if(i[0].drag!==this._activeDraggables[0]){var o=i[i.length-1].clientRect;return n?t>=o.right:e>=o.bottom}var u=i[0].clientRect;return n?t<=u.left:e<=u.top}},{key:"_getItemIndexFromPointerPosition",value:function(t,e,i,n){var s=this,o="horizontal"===this.orientation,u=this._itemPositions.findIndex(function(p){var E=p.drag,C=p.clientRect;return E!==t&&((!n||E!==s._previousSwap.drag||!s._previousSwap.overlaps||(o?n.x:n.y)!==s._previousSwap.delta)&&(o?e>=Math.floor(C.left)&&e<Math.floor(C.right):i>=Math.floor(C.top)&&i<Math.floor(C.bottom)))});return-1!==u&&this._sortPredicate(u,t)?u:-1}}]),a}(),Oe=.05,ke=function(){function a(r,t,e,i,n){var s=this;(0,d.Z)(this,a),this._dragDropRegistry=t,this._ngZone=i,this._viewportRuler=n,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=function(){return!0},this.sortPredicate=function(){return!0},this.beforeStarted=new P.x,this.entered=new P.x,this.exited=new P.x,this.dropped=new P.x,this.sorted=new P.x,this.receivingStarted=new P.x,this.receivingStopped=new P.x,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=w.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new P.x,this._cachedShadowRoot=null,this._startScrollInterval=function(){s._stopScrolling(),function b(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return a<0&&(a=0),(0,O.H)(a,a,arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.z)}(0,A.Z).pipe((0,R.R)(s._stopScrollTimers)).subscribe(function(){var o=s._scrollNode,u=s.autoScrollStep;1===s._verticalScrollDirection?o.scrollBy(0,-u):2===s._verticalScrollDirection&&o.scrollBy(0,u),1===s._horizontalScrollDirection?o.scrollBy(-u,0):2===s._horizontalScrollDirection&&o.scrollBy(u,0)})},this.element=(0,f.coerceElement)(r),this._document=e,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new me(e),this._sortStrategy=new Ve(this.element,t),this._sortStrategy.withSortPredicate(function(o,u){return s.sortPredicate(o,u,s)})}return(0,h.Z)(a,[{key:"dispose",value:function(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}},{key:"isDragging",value:function(){return this._isDragging}},{key:"start",value:function(){this._draggingStarted(),this._notifyReceivingSiblings()}},{key:"enter",value:function(t,e,i,n){this._draggingStarted(),null==n&&this.sortingDisabled&&(n=this._draggables.indexOf(t)),this._sortStrategy.enter(t,e,i,n),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}},{key:"exit",value:function(t){this._reset(),this.exited.next({item:t,container:this})}},{key:"drop",value:function(t,e,i,n,s,o,u){var p=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{};this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:i,container:this,previousContainer:n,isPointerOverContainer:s,distance:o,dropPoint:u,event:p})}},{key:"withItems",value:function(t){var e=this,i=this._draggables;return this._draggables=t,t.forEach(function(s){return s._withDropContainer(e)}),this.isDragging()&&(i.filter(function(s){return s.isDragging()}).every(function(s){return-1===t.indexOf(s)})?this._reset():this._sortStrategy.withItems(this._draggables)),this}},{key:"withDirection",value:function(t){return this._sortStrategy.direction=t,this}},{key:"connectedTo",value:function(t){return this._siblings=t.slice(),this}},{key:"withOrientation",value:function(t){return this._sortStrategy.orientation=t,this}},{key:"withScrollableParents",value:function(t){var e=(0,f.coerceElement)(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e].concat((0,m.Z)(t)):t.slice(),this}},{key:"getScrollableParents",value:function(){return this._scrollableElements}},{key:"getItemIndex",value:function(t){return this._isDragging?this._sortStrategy.getItemIndex(t):this._draggables.indexOf(t)}},{key:"isReceiving",value:function(){return this._activeSiblings.size>0}},{key:"_sortItem",value:function(t,e,i,n){if(!this.sortingDisabled&&this._clientRect&&pe(this._clientRect,.05,e,i)){var s=this._sortStrategy.sort(t,e,i,n);s&&this.sorted.next({previousIndex:s.previousIndex,currentIndex:s.currentIndex,container:this,item:t})}}},{key:"_startScrollingIfNecessary",value:function(t,e){var i=this;if(!this.autoScrollDisabled){var n,s=0,o=0;if(this._parentPositions.positions.forEach(function(F,K){if(K!==i._document&&F.clientRect&&!n&&pe(F.clientRect,.05,t,e)){var G=function Qe(a,r,t,e){var i=Te(r,e),n=Ae(r,t),s=0,o=0;if(i){var u=a.scrollTop;1===i?u>0&&(s=1):a.scrollHeight-u>a.clientHeight&&(s=2)}if(n){var p=a.scrollLeft;1===n?p>0&&(o=1):a.scrollWidth-p>a.clientWidth&&(o=2)}return[s,o]}(K,F.clientRect,t,e),W=(0,_.Z)(G,2);o=W[1],((s=W[0])||o)&&(n=K)}}),!s&&!o){var u=this._viewportRuler.getViewportSize(),p=u.width,E=u.height,C={width:p,height:E,top:0,right:p,bottom:E,left:0};s=Te(C,e),o=Ae(C,t),n=window}n&&(s!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||n!==this._scrollNode)&&(this._verticalScrollDirection=s,this._horizontalScrollDirection=o,this._scrollNode=n,(s||o)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}}},{key:"_stopScrolling",value:function(){this._stopScrollTimers.next()}},{key:"_draggingStarted",value:function(){var t=(0,f.coerceElement)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}},{key:"_cacheParentPositions",value:function(){var t=(0,f.coerceElement)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}},{key:"_reset",value:function(){var t=this;this._isDragging=!1;var e=(0,f.coerceElement)(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(function(i){return i._stopReceiving(t)}),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}},{key:"_isOverContainer",value:function(t,e){return null!=this._clientRect&&ue(this._clientRect,t,e)}},{key:"_getSiblingContainerFromPosition",value:function(t,e,i){return this._siblings.find(function(n){return n._canReceive(t,e,i)})}},{key:"_canReceive",value:function(t,e,i){if(!this._clientRect||!ue(this._clientRect,e,i)||!this.enterPredicate(t,this))return!1;var n=this._getShadowRoot().elementFromPoint(e,i);if(!n)return!1;var s=(0,f.coerceElement)(this.element);return n===s||s.contains(n)}},{key:"_startReceiving",value:function(t,e){var i=this,n=this._activeSiblings;!n.has(t)&&e.every(function(s){return i.enterPredicate(s,i)||i._draggables.indexOf(s)>-1})&&(n.add(t),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:t,receiver:this,items:e}))}},{key:"_stopReceiving",value:function(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:t,receiver:this})}},{key:"_listenToScrollEvents",value:function(){var t=this;this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(function(e){if(t.isDragging()){var i=t._parentPositions.handleScroll(e);i&&t._sortStrategy.updateOnScroll(i.top,i.left)}else t.isReceiving()&&t._cacheParentPositions()})}},{key:"_getShadowRoot",value:function(){if(!this._cachedShadowRoot){var t=(0,g._getShadowRoot)((0,f.coerceElement)(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}},{key:"_notifyReceivingSiblings",value:function(){var t=this,e=this._sortStrategy.getActiveItemsSnapshot().filter(function(i){return i.isDragging()});this._siblings.forEach(function(i){return i._startReceiving(t,e)})}}]),a}();function Te(a,r){var t=a.top,e=a.bottom,n=a.height*Oe;return r>=t-n&&r<=t+n?1:r>=e-n&&r<=e+n?2:0}function Ae(a,r){var t=a.left,e=a.right,n=a.width*Oe;return r>=t-n&&r<=t+n?1:r>=e-n&&r<=e+n?2:0}var ie=(0,g.normalizePassiveListenerOptions)({passive:!1,capture:!0}),Le=function(){var a=function(){function r(t,e){var i=this;(0,d.Z)(this,r),this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=function(n){return n.isDragging()},this.pointerMove=new P.x,this.pointerUp=new P.x,this.scroll=new P.x,this._preventDefaultWhileDragging=function(n){i._activeDragInstances.length>0&&n.preventDefault()},this._persistentTouchmoveListener=function(n){i._activeDragInstances.length>0&&(i._activeDragInstances.some(i._draggingPredicate)&&n.preventDefault(),i.pointerMove.next(n))},this._document=e}return(0,h.Z)(r,[{key:"registerDropContainer",value:function(e){this._dropInstances.has(e)||this._dropInstances.add(e)}},{key:"registerDragItem",value:function(e){var i=this;this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(function(){i._document.addEventListener("touchmove",i._persistentTouchmoveListener,ie)})}},{key:"removeDropContainer",value:function(e){this._dropInstances.delete(e)}},{key:"removeDragItem",value:function(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,ie)}},{key:"startDragging",value:function(e,i){var n=this;if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){var s=i.type.startsWith("touch");this._globalListeners.set(s?"touchend":"mouseup",{handler:function(u){return n.pointerUp.next(u)},options:!0}).set("scroll",{handler:function(u){return n.scroll.next(u)},options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:ie}),s||this._globalListeners.set("mousemove",{handler:function(u){return n.pointerMove.next(u)},options:ie}),this._ngZone.runOutsideAngular(function(){n._globalListeners.forEach(function(o,u){n._document.addEventListener(u,o.handler,o.options)})})}}},{key:"stopDragging",value:function(e){var i=this._activeDragInstances.indexOf(e);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}},{key:"isDragging",value:function(e){return this._activeDragInstances.indexOf(e)>-1}},{key:"scrolled",value:function(e){var i=this,n=[this.scroll];return e&&e!==this._document&&n.push(new L.y(function(s){return i._ngZone.runOutsideAngular(function(){var u=function(E){i._activeDragInstances.length&&s.next(E)};return e.addEventListener("scroll",u,!0),function(){e.removeEventListener("scroll",u,!0)}})})),j.T.apply(void 0,n)}},{key:"ngOnDestroy",value:function(){var e=this;this._dragInstances.forEach(function(i){return e.removeDragItem(i)}),this._dropInstances.forEach(function(i){return e.removeDropContainer(i)}),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}},{key:"_clearGlobalListeners",value:function(){var e=this;this._globalListeners.forEach(function(i,n){e._document.removeEventListener(n,i.handler,i.options)}),this._globalListeners.clear()}}]),r}();return a.\u0275fac=function(t){return new(t||a)(c.\u0275\u0275inject(c.NgZone),c.\u0275\u0275inject(D.DOCUMENT))},a.\u0275prov=c.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),Je={dragStartThreshold:5,pointerDirectionChangeThreshold:5},ne=function(){var a=function(){function r(t,e,i,n){(0,d.Z)(this,r),this._document=t,this._ngZone=e,this._viewportRuler=i,this._dragDropRegistry=n}return(0,h.Z)(r,[{key:"createDrag",value:function(e){return new Se(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Je,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}},{key:"createDropList",value:function(e){return new ke(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}]),r}();return a.\u0275fac=function(t){return new(t||a)(c.\u0275\u0275inject(D.DOCUMENT),c.\u0275\u0275inject(c.NgZone),c.\u0275\u0275inject(v.ViewportRuler),c.\u0275\u0275inject(Le))},a.\u0275prov=c.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a}(),re=new c.InjectionToken("CDK_DRAG_PARENT"),oe=new c.InjectionToken("CdkDragHandle"),Me=function(){var a=function(){function r(t,e){(0,d.Z)(this,r),this.element=t,this._stateChanges=new P.x,this._disabled=!1,this._parentDrag=e}return(0,h.Z)(r,[{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=(0,f.coerceBooleanProperty)(e),this._stateChanges.next(this)}},{key:"ngOnDestroy",value:function(){this._stateChanges.complete()}}]),r}();return a.\u0275fac=function(t){return new(t||a)(c.\u0275\u0275directiveInject(c.ElementRef),c.\u0275\u0275directiveInject(re,12))},a.\u0275dir=c.\u0275\u0275defineDirective({type:a,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},standalone:!0,features:[c.\u0275\u0275ProvidersFeature([{provide:oe,useExisting:a}])]}),a}(),he=new c.InjectionToken("CdkDragPlaceholder"),Ze=function(){var a=(0,h.Z)(function r(t){(0,d.Z)(this,r),this.templateRef=t});return a.\u0275fac=function(t){return new(t||a)(c.\u0275\u0275directiveInject(c.TemplateRef))},a.\u0275dir=c.\u0275\u0275defineDirective({type:a,selectors:[["ng-template","cdkDragPlaceholder",""]],inputs:{data:"data"},standalone:!0,features:[c.\u0275\u0275ProvidersFeature([{provide:he,useExisting:a}])]}),a}(),fe=new c.InjectionToken("CdkDragPreview"),Fe=function(){var a=function(){function r(t){(0,d.Z)(this,r),this.templateRef=t,this._matchSize=!1}return(0,h.Z)(r,[{key:"matchSize",get:function(){return this._matchSize},set:function(e){this._matchSize=(0,f.coerceBooleanProperty)(e)}}]),r}();return a.\u0275fac=function(t){return new(t||a)(c.\u0275\u0275directiveInject(c.TemplateRef))},a.\u0275dir=c.\u0275\u0275defineDirective({type:a,selectors:[["ng-template","cdkDragPreview",""]],inputs:{data:"data",matchSize:"matchSize"},standalone:!0,features:[c.\u0275\u0275ProvidersFeature([{provide:fe,useExisting:a}])]}),a}(),ve=new c.InjectionToken("CDK_DRAG_CONFIG"),_e=new c.InjectionToken("CdkDropList"),Be=function(){var a=function(){function r(t,e,i,n,s,o,u,p,E,C,F){var K=this;(0,d.Z)(this,r),this.element=t,this.dropContainer=e,this._ngZone=n,this._viewContainerRef=s,this._dir=u,this._changeDetectorRef=E,this._selfHandle=C,this._parentDrag=F,this._destroyed=new P.x,this.started=new c.EventEmitter,this.released=new c.EventEmitter,this.ended=new c.EventEmitter,this.entered=new c.EventEmitter,this.exited=new c.EventEmitter,this.dropped=new c.EventEmitter,this.moved=new L.y(function(G){var W=K._dragRef.moved.pipe((0,M.U)(function(V){return{source:K,pointerPosition:V.pointerPosition,event:V.event,delta:V.delta,distance:V.distance}})).subscribe(G);return function(){W.unsubscribe()}}),this._dragRef=p.createDrag(t,{dragStartThreshold:o&&null!=o.dragStartThreshold?o.dragStartThreshold:5,pointerDirectionChangeThreshold:o&&null!=o.pointerDirectionChangeThreshold?o.pointerDirectionChangeThreshold:5,zIndex:o?.zIndex}),this._dragRef.data=this,r._dragInstances.push(this),o&&this._assignDefaults(o),e&&(this._dragRef._withDropContainer(e._dropListRef),e.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}return(0,h.Z)(r,[{key:"disabled",get:function(){return this._disabled||this.dropContainer&&this.dropContainer.disabled},set:function(e){this._disabled=(0,f.coerceBooleanProperty)(e),this._dragRef.disabled=this._disabled}},{key:"getPlaceholderElement",value:function(){return this._dragRef.getPlaceholderElement()}},{key:"getRootElement",value:function(){return this._dragRef.getRootElement()}},{key:"reset",value:function(){this._dragRef.reset()}},{key:"getFreeDragPosition",value:function(){return this._dragRef.getFreeDragPosition()}},{key:"setFreeDragPosition",value:function(e){this._dragRef.setFreeDragPosition(e)}},{key:"ngAfterViewInit",value:function(){var e=this;this._ngZone.runOutsideAngular(function(){e._ngZone.onStable.pipe((0,Z.q)(1),(0,R.R)(e._destroyed)).subscribe(function(){e._updateRootElement(),e._setupHandlesListener(),e.freeDragPosition&&e._dragRef.setFreeDragPosition(e.freeDragPosition)})})}},{key:"ngOnChanges",value:function(e){var i=e.rootElementSelector,n=e.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),n&&!n.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}},{key:"ngOnDestroy",value:function(){var e=this;this.dropContainer&&this.dropContainer.removeItem(this);var i=r._dragInstances.indexOf(this);i>-1&&r._dragInstances.splice(i,1),this._ngZone.runOutsideAngular(function(){e._destroyed.next(),e._destroyed.complete(),e._dragRef.dispose()})}},{key:"_updateRootElement",value:function(){var n,e=this.element.nativeElement,i=e;this.rootElementSelector&&(i=void 0!==e.closest?e.closest(this.rootElementSelector):null===(n=e.parentElement)||void 0===n?void 0:n.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||e)}},{key:"_getBoundaryElement",value:function(){var e=this.boundaryElement;return e?"string"==typeof e?this.element.nativeElement.closest(e):(0,f.coerceElement)(e):null}},{key:"_syncInputs",value:function(e){var i=this;e.beforeStarted.subscribe(function(){if(!e.isDragging()){var n=i._dir,s=i.dragStartDelay,o=i._placeholderTemplate?{template:i._placeholderTemplate.templateRef,context:i._placeholderTemplate.data,viewContainer:i._viewContainerRef}:null,u=i._previewTemplate?{template:i._previewTemplate.templateRef,context:i._previewTemplate.data,matchSize:i._previewTemplate.matchSize,viewContainer:i._viewContainerRef}:null;e.disabled=i.disabled,e.lockAxis=i.lockAxis,e.dragStartDelay="object"==typeof s&&s?s:(0,f.coerceNumberProperty)(s),e.constrainPosition=i.constrainPosition,e.previewClass=i.previewClass,e.withBoundaryElement(i._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(u).withPreviewContainer(i.previewContainer||"global"),n&&e.withDirection(n.value)}}),e.beforeStarted.pipe((0,Z.q)(1)).subscribe(function(){if(i._parentDrag)e.withParent(i._parentDrag._dragRef);else for(var n=i.element.nativeElement.parentElement;n;){if(n.classList.contains("cdk-drag")){var s;e.withParent((null===(s=r._dragInstances.find(function(o){return o.element.nativeElement===n}))||void 0===s?void 0:s._dragRef)||null);break}n=n.parentElement}})}},{key:"_handleEvents",value:function(e){var i=this;e.started.subscribe(function(n){i.started.emit({source:i,event:n.event}),i._changeDetectorRef.markForCheck()}),e.released.subscribe(function(n){i.released.emit({source:i,event:n.event})}),e.ended.subscribe(function(n){i.ended.emit({source:i,distance:n.distance,dropPoint:n.dropPoint,event:n.event}),i._changeDetectorRef.markForCheck()}),e.entered.subscribe(function(n){i.entered.emit({container:n.container.data,item:i,currentIndex:n.currentIndex})}),e.exited.subscribe(function(n){i.exited.emit({container:n.container.data,item:i})}),e.dropped.subscribe(function(n){i.dropped.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,previousContainer:n.previousContainer.data,container:n.container.data,isPointerOverContainer:n.isPointerOverContainer,item:i,distance:n.distance,dropPoint:n.dropPoint,event:n.event})})}},{key:"_assignDefaults",value:function(e){var i=e.lockAxis,n=e.dragStartDelay,s=e.constrainPosition,o=e.previewClass,u=e.boundaryElement,E=e.rootElementSelector,C=e.previewContainer;this.disabled=e.draggingDisabled??!1,this.dragStartDelay=n||0,i&&(this.lockAxis=i),s&&(this.constrainPosition=s),o&&(this.previewClass=o),u&&(this.boundaryElement=u),E&&(this.rootElementSelector=E),C&&(this.previewContainer=C)}},{key:"_setupHandlesListener",value:function(){var e=this;this._handles.changes.pipe((0,N.O)(this._handles),(0,H.b)(function(i){var n=i.filter(function(s){return s._parentDrag===e}).map(function(s){return s.element});e._selfHandle&&e.rootElementSelector&&n.push(e.element),e._dragRef.withHandles(n)}),(0,S.w)(function(i){return j.T.apply(void 0,(0,m.Z)(i.map(function(n){return n._stateChanges.pipe((0,N.O)(n))})))}),(0,R.R)(this._destroyed)).subscribe(function(i){var n=e._dragRef,s=i.element.nativeElement;i.disabled?n.disableHandle(s):n.enableHandle(s)})}}]),r}();return a._dragInstances=[],a.\u0275fac=function(t){return new(t||a)(c.\u0275\u0275directiveInject(c.ElementRef),c.\u0275\u0275directiveInject(_e,12),c.\u0275\u0275directiveInject(D.DOCUMENT),c.\u0275\u0275directiveInject(c.NgZone),c.\u0275\u0275directiveInject(c.ViewContainerRef),c.\u0275\u0275directiveInject(ve,8),c.\u0275\u0275directiveInject(I.Directionality,8),c.\u0275\u0275directiveInject(ne),c.\u0275\u0275directiveInject(c.ChangeDetectorRef),c.\u0275\u0275directiveInject(oe,10),c.\u0275\u0275directiveInject(re,12))},a.\u0275dir=c.\u0275\u0275defineDirective({type:a,selectors:[["","cdkDrag",""]],contentQueries:function(t,e,i){var n;1&t&&(c.\u0275\u0275contentQuery(i,fe,5),c.\u0275\u0275contentQuery(i,he,5),c.\u0275\u0275contentQuery(i,oe,5)),2&t&&(c.\u0275\u0275queryRefresh(n=c.\u0275\u0275loadQuery())&&(e._previewTemplate=n.first),c.\u0275\u0275queryRefresh(n=c.\u0275\u0275loadQuery())&&(e._placeholderTemplate=n.first),c.\u0275\u0275queryRefresh(n=c.\u0275\u0275loadQuery())&&(e._handles=n))},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,e){2&t&&c.\u0275\u0275classProp("cdk-drag-disabled",e.disabled)("cdk-drag-dragging",e._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[c.\u0275\u0275ProvidersFeature([{provide:re,useExisting:a}]),c.\u0275\u0275NgOnChangesFeature]}),a}(),se=new c.InjectionToken("CdkDropListGroup"),Ue=function(){var a=function(){function r(){(0,d.Z)(this,r),this._items=new Set,this._disabled=!1}return(0,h.Z)(r,[{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=(0,f.coerceBooleanProperty)(e)}},{key:"ngOnDestroy",value:function(){this._items.clear()}}]),r}();return a.\u0275fac=function(t){return new(t||a)},a.\u0275dir=c.\u0275\u0275defineDirective({type:a,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:["cdkDropListGroupDisabled","disabled"]},exportAs:["cdkDropListGroup"],standalone:!0,features:[c.\u0275\u0275ProvidersFeature([{provide:se,useExisting:a}])]}),a}(),Ye=0,je=function(){var a=function(){function r(t,e,i,n,s,o,u){var p=this;(0,d.Z)(this,r),this.element=t,this._changeDetectorRef=i,this._scrollDispatcher=n,this._dir=s,this._group=o,this._destroyed=new P.x,this.connectedTo=[],this.id="cdk-drop-list-".concat(Ye++),this.enterPredicate=function(){return!0},this.sortPredicate=function(){return!0},this.dropped=new c.EventEmitter,this.entered=new c.EventEmitter,this.exited=new c.EventEmitter,this.sorted=new c.EventEmitter,this._unsortedItems=new Set,this._dropListRef=e.createDropList(t),this._dropListRef.data=this,u&&this._assignDefaults(u),this._dropListRef.enterPredicate=function(E,C){return p.enterPredicate(E.data,C.data)},this._dropListRef.sortPredicate=function(E,C,F){return p.sortPredicate(E,C.data,F.data)},this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),r._dropLists.push(this),o&&o._items.add(this)}return(0,h.Z)(r,[{key:"disabled",get:function(){return this._disabled||!!this._group&&this._group.disabled},set:function(e){this._dropListRef.disabled=this._disabled=(0,f.coerceBooleanProperty)(e)}},{key:"addItem",value:function(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}},{key:"removeItem",value:function(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}},{key:"getSortedItems",value:function(){return Array.from(this._unsortedItems).sort(function(e,i){return e._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1})}},{key:"ngOnDestroy",value:function(){var e=r._dropLists.indexOf(this);e>-1&&r._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}},{key:"_setupInputSyncSubscription",value:function(e){var i=this;this._dir&&this._dir.change.pipe((0,N.O)(this._dir.value),(0,R.R)(this._destroyed)).subscribe(function(n){return e.withDirection(n)}),e.beforeStarted.subscribe(function(){var n=(0,f.coerceArray)(i.connectedTo).map(function(o){return"string"==typeof o?r._dropLists.find(function(p){return p.id===o}):o});if(i._group&&i._group._items.forEach(function(o){-1===n.indexOf(o)&&n.push(o)}),!i._scrollableParentsResolved){var s=i._scrollDispatcher.getAncestorScrollContainers(i.element).map(function(o){return o.getElementRef().nativeElement});i._dropListRef.withScrollableParents(s),i._scrollableParentsResolved=!0}e.disabled=i.disabled,e.lockAxis=i.lockAxis,e.sortingDisabled=(0,f.coerceBooleanProperty)(i.sortingDisabled),e.autoScrollDisabled=(0,f.coerceBooleanProperty)(i.autoScrollDisabled),e.autoScrollStep=(0,f.coerceNumberProperty)(i.autoScrollStep,2),e.connectedTo(n.filter(function(o){return o&&o!==i}).map(function(o){return o._dropListRef})).withOrientation(i.orientation)})}},{key:"_handleEvents",value:function(e){var i=this;e.beforeStarted.subscribe(function(){i._syncItemsWithRef(),i._changeDetectorRef.markForCheck()}),e.entered.subscribe(function(n){i.entered.emit({container:i,item:n.item.data,currentIndex:n.currentIndex})}),e.exited.subscribe(function(n){i.exited.emit({container:i,item:n.item.data}),i._changeDetectorRef.markForCheck()}),e.sorted.subscribe(function(n){i.sorted.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,container:i,item:n.item.data})}),e.dropped.subscribe(function(n){i.dropped.emit({previousIndex:n.previousIndex,currentIndex:n.currentIndex,previousContainer:n.previousContainer.data,container:n.container.data,item:n.item.data,isPointerOverContainer:n.isPointerOverContainer,distance:n.distance,dropPoint:n.dropPoint,event:n.event}),i._changeDetectorRef.markForCheck()}),(0,j.T)(e.receivingStarted,e.receivingStopped).subscribe(function(){return i._changeDetectorRef.markForCheck()})}},{key:"_assignDefaults",value:function(e){var i=e.lockAxis,s=e.sortingDisabled,o=e.listAutoScrollDisabled,u=e.listOrientation;this.disabled=e.draggingDisabled??!1,this.sortingDisabled=s??!1,this.autoScrollDisabled=o??!1,this.orientation=u||"vertical",i&&(this.lockAxis=i)}},{key:"_syncItemsWithRef",value:function(){this._dropListRef.withItems(this.getSortedItems().map(function(e){return e._dragRef}))}}]),r}();return a._dropLists=[],a.\u0275fac=function(t){return new(t||a)(c.\u0275\u0275directiveInject(c.ElementRef),c.\u0275\u0275directiveInject(ne),c.\u0275\u0275directiveInject(c.ChangeDetectorRef),c.\u0275\u0275directiveInject(v.ScrollDispatcher),c.\u0275\u0275directiveInject(I.Directionality,8),c.\u0275\u0275directiveInject(se,12),c.\u0275\u0275directiveInject(ve,8))},a.\u0275dir=c.\u0275\u0275defineDirective({type:a,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(t,e){2&t&&(c.\u0275\u0275attribute("id",e.id),c.\u0275\u0275classProp("cdk-drop-list-disabled",e.disabled)("cdk-drop-list-dragging",e._dropListRef.isDragging())("cdk-drop-list-receiving",e._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[c.\u0275\u0275ProvidersFeature([{provide:se,useValue:void 0},{provide:_e,useExisting:a}])]}),a}(),$e=function(){var a=(0,h.Z)(function r(){(0,d.Z)(this,r)});return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=c.\u0275\u0275defineNgModule({type:a}),a.\u0275inj=c.\u0275\u0275defineInjector({providers:[ne],imports:[v.CdkScrollableModule]}),a}()},30907:(x,y,l)=>{function _(m,d){(null==d||d>m.length)&&(d=m.length);for(var h=0,c=new Array(d);h<d;h++)c[h]=m[h];return c}l.d(y,{Z:()=>_})},83878:(x,y,l)=>{function _(m){if(Array.isArray(m))return m}l.d(y,{Z:()=>_})},97326:(x,y,l)=>{function _(m){if(void 0===m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}l.d(y,{Z:()=>_})},37762:(x,y,l)=>{l.d(y,{Z:()=>m});var _=l(40181);function m(d,h){var c=typeof Symbol<"u"&&d[Symbol.iterator]||d["@@iterator"];if(!c){if(Array.isArray(d)||(c=(0,_.Z)(d))||h&&d&&"number"==typeof d.length){c&&(d=c);var D=0,v=function(){};return{s:v,n:function(){return D>=d.length?{done:!0}:{done:!1,value:d[D++]}},e:function(w){throw w},f:v}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var T,g=!0,f=!1;return{s:function(){c=c.call(d)},n:function(){var w=c.next();return g=w.done,w},e:function(w){f=!0,T=w},f:function(){try{!g&&null!=c.return&&c.return()}finally{if(f)throw T}}}}},18486:(x,y,l)=>{l.d(y,{Z:()=>D});var _=l(61120),m=l(78814),d=l(71002),h=l(97326);function D(v){var g=(0,m.Z)();return function(){var P,T=(0,_.Z)(v);if(g){var w=(0,_.Z)(this).constructor;P=Reflect.construct(T,arguments,w)}else P=T.apply(this,arguments);return function c(v,g){if(g&&("object"===(0,d.Z)(g)||"function"==typeof g))return g;if(void 0!==g)throw new TypeError("Derived constructors may only return object or undefined");return(0,h.Z)(v)}(this,P)}}},73237:(x,y,l)=>{l.d(y,{Z:()=>d});var _=l(61120);function d(){return d=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(c,D,v){var g=function m(h,c){for(;!Object.prototype.hasOwnProperty.call(h,c)&&null!==(h=(0,_.Z)(h)););return h}(c,D);if(g){var f=Object.getOwnPropertyDescriptor(g,D);return f.get?f.get.call(arguments.length<3?c:v):f.value}},d.apply(this,arguments)}},61120:(x,y,l)=>{function _(m){return(_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)})(m)}l.d(y,{Z:()=>_})},60136:(x,y,l)=>{l.d(y,{Z:()=>m});var _=l(89611);function m(d,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(h&&h.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),h&&(0,_.Z)(d,h)}},78814:(x,y,l)=>{function _(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}l.d(y,{Z:()=>_})},59199:(x,y,l)=>{function _(m){if(typeof Symbol<"u"&&null!=m[Symbol.iterator]||null!=m["@@iterator"])return Array.from(m)}l.d(y,{Z:()=>_})},25267:(x,y,l)=>{function _(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}l.d(y,{Z:()=>_})},89611:(x,y,l)=>{function _(m,d){return(_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,D){return c.__proto__=D,c})(m,d)}l.d(y,{Z:()=>_})},97685:(x,y,l)=>{l.d(y,{Z:()=>c});var _=l(83878),d=l(40181),h=l(25267);function c(D,v){return(0,_.Z)(D)||function m(D,v){var g=null==D?null:typeof Symbol<"u"&&D[Symbol.iterator]||D["@@iterator"];if(null!=g){var f,T,P,w,k=[],O=!0,b=!1;try{if(P=(g=g.call(D)).next,0===v){if(Object(g)!==g)return;O=!1}else for(;!(O=(f=P.call(g)).done)&&(k.push(f.value),k.length!==v);O=!0);}catch(A){b=!0,T=A}finally{try{if(!O&&null!=g.return&&(w=g.return(),Object(w)!==w))return}finally{if(b)throw T}}return k}}(D,v)||(0,d.Z)(D,v)||(0,h.Z)()}},74902:(x,y,l)=>{l.d(y,{Z:()=>D});var _=l(30907),d=l(59199),h=l(40181);function D(v){return function m(v){if(Array.isArray(v))return(0,_.Z)(v)}(v)||(0,d.Z)(v)||(0,h.Z)(v)||function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},40181:(x,y,l)=>{l.d(y,{Z:()=>m});var _=l(30907);function m(d,h){if(d){if("string"==typeof d)return(0,_.Z)(d,h);var c=Object.prototype.toString.call(d).slice(8,-1);if("Object"===c&&d.constructor&&(c=d.constructor.name),"Map"===c||"Set"===c)return Array.from(d);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return(0,_.Z)(d,h)}}}}]);